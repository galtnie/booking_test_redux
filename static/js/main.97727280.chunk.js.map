{"version":3,"sources":["actions/index.js","actions/types.js","functions/index.js","styles/index.js","components/DateSearch.js","components/SwitchBack.js","components/SwitchForth.js","components/CurrentDate.js","components/UpperBar.js","components/Rooms.js","history.js","components/Guide.js","styles/CircularProgressMUIstyles.js","components/CircularProgress.js","components/Halls.js","components/RoomDeterminer.js","components/Schedule.js","components/Title.js","Home.js","styles/LoginMUIstyles.js","Login.js","components/TicketEdition.js","components/UsersPriorReservations.js","components/BookingConfirmation.js","Booking.js","SignUpForm.js","Charts.js","App.js","reducers/index.js","reducers/handleDateInput.js","reducers/handleBackSwitcher.js","reducers/handleFetchedHalls.js","reducers/handleFetchedTickets.js","reducers/determineReservedSlots.js","reducers/handleNewUserAccount.js","reducers/handleUser.js","reducers/handleSlotSelection.js","reducers/determineUsersPriorReservations.js","reducers/handleTicketEdition.js","reducers/handleLoginServerError.js","store.js","index.js"],"names":["handleDateInputSubmit","date","Date","parse","type","payload","handleUpperBackSwitcher","status","fetchHalls","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","response","array","i","wrap","_context","prev","next","axios","get","sent","JSON","stringify","data","halls","length","t0","colour","abrupt","stop","_x","apply","this","arguments","fetchTickets","_ref2","_callee2","res","_context2","_x2","determineReservedSlots","reservedSlots","eraseNewUserAccount","selectSlot","slot_id","unselectSlot","discardAllSelectedSlots","determineUsersPriorReservations","tickets","user_id","filter","e","composeSlotId","chosenDate","hour","fullDate","getDate","keyDate","toString","keyMonth","getMonth","keyYear","getYear","slice","idHour","String","concat","calculateReservedSlots","_loop","fromTime","from","toTime","to","title","setHours","setMilliseconds","setSeconds","setMinutes","theDay","dayChosenStart","dayChosenEnd","hall","find","element","_id","hall_id","slotID","getHours","push","convertMlsToyyyymmddThhmm","mls","split","toISOString","convertYyyymmddThhmmToMls","time","convertToUKdate","Intl","DateTimeFormat","day","weekday","year","month","minute","format","convertMlsToYYYYmmDD","t","tf","replace","getFullYear","getMinutes","getSeconds","convertYYYYmmDDToMls","setFullYear","setMonth","Number","setDate","calculateTimeUsedPerMonth","start","end","sortedTicketsPerHalls","j","newArr","totalHours","Math","round","getUniqueId","random","substr","blueSlot","redSlot","greenSlot","violetSlot","blueFont","redFont","greenFont","violetFont","Wrapper","styled","div","_templateObject","PaymentButton","Button","_templateObject2","ChartPeriodSelect","Select","_templateObject3","ChartSelectContainer","_templateObject4","ChartTitle","_templateObject5","DoughnutChartContainer","_templateObject6","props","period","BarChartContainer","_templateObject7","LoginError","_templateObject8","ReturnHomeLink","p","_templateObject9","SignupMain","_templateObject10","SingupPaper","Paper","_templateObject11","SingupFormContainer","form","_templateObject12","SignupTitle","_templateObject13","SignupCheckboxContainer","_templateObject14","SignupCheckboxLabel","label","_templateObject15","SignupServerError","_templateObject16","SignupLinkContainer","_templateObject17","SignupErrorContainer","_templateObject18","SignupInputContainer","_templateObject19","SignupTextField","TextField","_templateObject20","ConfirmContainer","_templateObject21","ConfirmTitle","h2","_templateObject22","ConfirmTicketContainer","_templateObject23","ConfirmTitleInput","input","_templateObject24","ConfirmClickBttnNote","h3","_templateObject25","ConfirmBttnsContainer","_templateObject26","CircularProgressContainer","_templateObject27","CurrentDateContainer","_templateObject28","DateInputContainer","_templateObject29","DateInput","_templateObject30","SearchIconContainer","_templateObject31","SearchIcon","_templateObject32","GuideContainer","_templateObject33","GuideParagraph","_templateObject34","GuideSpan","span","_templateObject35","GuideDiv","_templateObject36","TitleDiv","_templateObject37","TitleLine","_templateObject38","HallsMain","_templateObject39","HallCard","Card","_templateObject40","HallTitleContainer","_templateObject41","HallCardContent","CardContent","_templateObject42","_ref3","_ref4","HallCardMedia","CardMedia","_templateObject43","HallCarousel","Carousel","_templateObject44","RoomSlot","_templateObject45","guide","chosen","_ref5","_ref6","_ref7","_ref8","hover","ReservedSlot","_templateObject46","_ref9","_ref10","_ref11","ScheduleWrapper","_templateObject47","HourDesignator","_templateObject48","HourColumnContainer","_templateObject49","EditMain","_templateObject50","EditTitle","_templateObject51","EditRow","_templateObject52","EditFirstColumn","_templateObject53","EditInput","_templateObject54","EditButton","_templateObject55","_ref12","confirm","SignupButton","_templateObject56","SigninButton","_templateObject57","BurgerMenuIconContainer","_templateObject58","BurgerMenu","_templateObject59","_ref13","display","BurgerMenuSpan","_templateObject60","UpperbarContainer","_templateObject61","Switcher","_templateObject62","_ref14","inactive","DateSwitcherContainer","_templateObject63","UpperToolbar","Toolbar","_templateObject64","UpperAppBar","AppBar","_templateObject65","PriorOrdersMain","_templateObject66","PriorOrdersTitle","_templateObject67","PriorOrdersContainer","_templateObject68","PriorOrdersTableContainer","_templateObject69","PriorOrdersTable","table","_templateObject70","PriorOrderTd1","td","_templateObject71","PriorOrderTd2","_templateObject72","PriorOrdersButtonContainer","_templateObject73","PriorOrdersButton","button","_templateObject74","secondary","LoginServerErrorContainer","_templateObject75","DateSearch","state","dateInput","window","screen","width","setState","getTime","date1","minLimit","today","inputtedDay","alert","_this2","react_default","createElement","className","min","dateLimit","value","onChange","target","onClick","Component","connect","SwitchBack","nextDate","nextDateMls","_this","switcherStatus","handleDayChange","preventDefault","React","backSwitcher","SwitchForth","CurrentDate","renderDate","UpperBar","burger","path","handleEntranceExit","discardUser","resetDate","handleBurgerMenuIconClick","fixGitPathname","location","pathname","includes","renderUpperMenu","react_router_dom","user","renderBurgerMenu","position","components_DateSearch","components_SwitchBack","components_CurrentDate","components_SwitchForth","FreeHome","_Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","key","id","Busy","_Component2","data-tooltip","Free_","Free","Chosen_","Chosen","createBrowserHistory","Guide","history","Rooms_Busy","styles","theme","progress","margin","spacing","withStyles","classes","CircularProgress","Halls","elements","forEach","index","slide","render","image","imageURL","description","map","prepareSlides","duration","animation","showNextPrev","showIndicators","components_CircularProgress","colours","RoomStatusDeterminer","reservedSlot","Rooms_FreeHome","selectedSlot","selectedSlots","checkIfSlotSelected","ownProps","Schedule","renderOneHourRooms","oneHourColumn","RoomDeterminer","renderDayCard","hourColumns","nextProps","Title","Home","forceUpdate","newUser","react_router","components_UpperBar","Title_Title","components_Halls","components_Schedule","newUserAccount","main","defineProperty","marginLeft","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","avatar","backgroundColor","palette","submit","SignInForm","testfunction","eraseServerError","serverError","eraseLoginServerError","_this$props","values","errors","touched","isSubmitting","handleChange","handleBlur","handleSubmit","CssBaseline","Avatar","LockOutlined_default","Typography","component","variant","formik_esm","onSubmit","FormControl","fullWidth","InputLabel","htmlFor","Input","name","autoComplete","autoFocus","placeholder","error","Boolean","email","onBlur","password","FormControlLabel","control","Checkbox","color","disabled","compose","loginServerError","validateUser","_callee3","_context3","post","headers","Content-Type","toLowerCase","catch","message","_x3","withFormik","mapPropsToValues","validationSchema","Yup","shape","required","setSubmitting","resetForm","setErrors","TicketEdition","ticket","handleTitleInput","objectSpread","handleStartInput","newToValue","handleEndInput","valueOf","setTimeout","newFromValue","handleConfirmClick","editTicket","discardTicketToEdit","ticketToEdit","size","method","url","ContentType","Authorization","token","then","console","dir","UsersPriorReservations","itemIndex","ticketToDelete","usersPriorReservations","withdrawTicket","setTicketToEdit","reverse","renderTableRow","deleteTicket","alterUsersPriorReservationsList","newList","BookingConfirmation","closeWindow","createNewTicket","timeOptionsForRendering","newArray","alterTickets","handleConfirmation","reservedTickets","priorReservations","axiosRequests","request","Promise","all","arr","log","Booking","bookingConfirmation","ticketsToReserve","handlePaymentButtonClicking","slots_id","orderListToUniteAdjacent","_loop2","order","finalArray","ticketsHallsArray","ifNewHallArrayIsNeeded","sameHallTicketsArray","uniteAdjacentTickets","doItAgain","newTicket","splice","arrayWithUnitedAdjacentTickets","ii","prepareSelectedSlotsRendering","alterTicketsToReserve","newValue","closePaymentWindow","components_BookingConfirmation","components_TicketEdition","components_UsersPriorReservations","neewUserAccount","SignUpForm","signUpEmail","signUpPassword","confirmPassword","passwordIsMasked","created","renderError","active","renderInput","formProps","assign","meta","formValues","createNewUserAccount","kind","togglePasswordMask","prevState","Field","reduxForm","validate","Charts","calculatePercentage","slots","percentage","datasets","handleSelectChange","selectedOption","DoghnutChartData","labels","hoverBackgroundColor","BarChartData","borderColor","borderWidth","hoverBorderColor","options","menuPlacement","react_chartjs_2_es","height","maintainAspectRatio","App","exact","Login","combineReducers","undefined","action","toConsumableArray","newList3","formReducer","persistedState","serializedState","localStorage","getItem","loadFromLocalStorage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","reducers","applyMiddleware","thunk","subscribe","setItem","saveToLocalStorage","getState","ReactDOM","es","basename","process","src_App","document","querySelector"],"mappings":"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","file":"static/js/main.97727280.chunk.js","sourcesContent":["import axios from 'axios';\n\nimport { \n    HANDLE_DATE_INPUT_SUBMIT,\n    UPPERBAR_BACKWARD_SWITCHER, \n    FETCH_HALLS,\n    FETCH_TICKETS,\n    DETERMINE_RESERVED_SLOTS,\n    HANDLE_NEW_USER_ACCOUNT,\n    VALIDATE_USER,\n    DISCARD_USER,\n    SELECT_SLOT,\n    UNSELECT_SLOT,\n    DISCARD_ALL_SELECTED_SLOTS,\n    DETERMINE_USERS_PRIOR_RESERVATIONS,\n    SET_TICKET_TO_EDIT,\n    DISCARD_TICKET_TO_EDIT,\n    ADD_NEW_TICKETS,\n    WITHDRAW_TICKET,\n    EDIT_TICKET,\n    RESET_DATE,\n    RENDER_LOGIN_SERVER_ERROR,\n    ERASE_LOGIN_SERVER_ERROR,\n} from './types';\n\nexport const handleDateInputSubmit = (date) => {\n    if (typeof date === 'string') {\n        date = Date.parse(date)\n    }\n    return ({ \n        type: HANDLE_DATE_INPUT_SUBMIT, \n        payload: date\n    })\n} \n\nexport const resetDate = () => {\n    return ({\n        type: RESET_DATE,\n    })\n}\n\nexport const handleUpperBackSwitcher = (status) => {\n    return ({\n        type: UPPERBAR_BACKWARD_SWITCHER,\n        payload: status\n    })\n}\n\nexport const fetchHalls = () => async dispatch => {\n    const response = await axios.get('https://web-ninjas.net/halls')\n    const array = JSON.parse(JSON.stringify(response))\n    \n    for (let i = 0; i < array.data.halls.length; i++ ) {\n        switch (i) {\n            case 0:\n            array.data.halls[i].colour = 'vio';\n            break;\n            case 1:\n            array.data.halls[i].colour = 'gre';\n            break;\n            case 2:\n            array.data.halls[i].colour = 'red';\n            break;\n            case 3:\n            array.data.halls[i].colour = 'blu';\n            break;\n            default:\n            array.data.halls[i].colour = ''             \n            break;\n        }        \n    }  \n    dispatch({ \n        type: FETCH_HALLS, \n        payload: array.data.halls \n    })\n};\n\nexport const fetchTickets = () => async dispatch => {\n    const res = await axios.get('https://web-ninjas.net/tickets')\n    dispatch({ \n        type: FETCH_TICKETS, \n        payload: res.data \n    })\n};\n\nexport const determineReservedSlots = (reservedSlots) => {\n    return ({\n        type: DETERMINE_RESERVED_SLOTS,\n        payload: reservedSlots\n    })\n}\n\nexport const createNewUserAccount = (email) => {\n    return ({\n        type: HANDLE_NEW_USER_ACCOUNT,\n        payload: email\n    })\n}\n\nexport const eraseNewUserAccount = () => {\n    return ({\n        type: HANDLE_NEW_USER_ACCOUNT,\n        payload: ''\n    })\n}\n\nexport const validateUser = (res) => async dispatch => {\n    let error = null;\n    const response = await axios.post('https://web-ninjas.net/signIn',\n    { headers: { 'Content-Type': 'application/x-www-form-urlencoded' } },\n    {\n      data: {\n        email: res.email.toLowerCase(),\n        password: res.password\n      }\n    }\n    ).catch(e => {\n        error = e\n    })\n    error !== null \n        ? \n        dispatch({\n            type: RENDER_LOGIN_SERVER_ERROR,\n            payload: error.response.data.message\n        })\n        :\n        dispatch({ \n            type: VALIDATE_USER, \n            payload: response.data \n        })\n};\n\nexport const eraseLoginServerError = () => {\n    return ({\n        type: ERASE_LOGIN_SERVER_ERROR\n    })\n}\n\nexport const discardUser = () => {\n    return ({\n      type: DISCARD_USER,\n  })\n}\n\nexport const selectSlot = (slot_id) => {\n    return ({\n        type: SELECT_SLOT,\n        payload: slot_id       \n    })\n}\n\nexport const unselectSlot = (slot_id) => {\n    return ({\n        type: UNSELECT_SLOT,\n        payload: slot_id\n    })\n}\n\nexport const discardAllSelectedSlots = () => {\n    return ({\n      type: DISCARD_ALL_SELECTED_SLOTS,\n  })\n}\n\nexport const determineUsersPriorReservations = (tickets, user_id) => {\n    return ({\n        type: DETERMINE_USERS_PRIOR_RESERVATIONS,\n        payload: tickets.filter((e)=>e.user_id === user_id)\n    }) \n}\n\nexport const alterUsersPriorReservationsList = (newList) => {\n    return ({\n        type: DETERMINE_USERS_PRIOR_RESERVATIONS,\n        payload: newList\n    })\n}\n\nexport const setTicketToEdit = (ticket) => {\n    return ({\n        type: SET_TICKET_TO_EDIT,\n        payload: ticket\n    })\n}\n\nexport const discardTicketToEdit = () => {\n    return ({\n        type: DISCARD_TICKET_TO_EDIT\n    })\n}\n\nexport const createNewTicket = (tickets, user) => dispatch => {\n\n        let axiosRequests = []\n        for (let i = 0; i < tickets.length; i++) {\n            let request = axios({\n                method: 'post',\n                url: 'https://web-ninjas.net/tickets',\n                data: {\n                    hall_id: tickets[i].hall_id,\n                    user_id: user._id,\n                    title: tickets[i].title,\n                    from: tickets[i].from,\n                    to: tickets[i].to,\n                },\n                headers: {\n                    ContentType: \"application/x-www-form-urlencoded\",\n                    Authorization: user.token,\n                }\n            })\n            axiosRequests.push(request)\n        }\n        \n        Promise.all(axiosRequests)\n            .then((res)=>{\n                let newArray = []\n                for (let i = 0; i < res.length; i++) {\n                                         \n                    newArray.push(JSON.parse(JSON.stringify(res[i].data)))\n                }\n                return newArray\n            })\n            .then(arr => {\n                dispatch({ \n                    type: ADD_NEW_TICKETS, \n                    payload: arr \n                })\n            })\n            .catch(error => {\n                console.dir(error)\n                console.log(error.message)\n            })\n}\n\nexport const withdrawTicket = (ticket, user) =>  dispatch => {\n    axios({\n        method: 'delete',\n        url: `https://web-ninjas.net/tickets/${ticket._id}`,\n        headers: {\n            ContentType: \"application/x-www-form-urlencoded\",\n            Authorization: user.token,\n        }\n    })\n    .then(()=>{\n        dispatch({ \n            type: WITHDRAW_TICKET, \n            payload: ticket \n        })\n    })\n    .catch((e) => console.dir(e))\n}\n\nexport const editTicket = (ticket, user) => dispatch => {\n\n    axios({\n        method: 'put',\n        url: `https://web-ninjas.net/ticket/${ticket._id}`,\n        headers: {\n            ContentType: \"application/x-www-form-urlencoded\",\n            Authorization: user.token,\n        },\n        data: {\n            title: ticket.title,\n            from:  ticket.from,\n            to: ticket.to,\n        }\n    })\n    .then(()=>{\n        dispatch({ \n            type: EDIT_TICKET, \n            payload: ticket \n        })\n    })\n    .catch((e) => console.dir(e))\n}\n\n","export const FETCH_TICKETS = 'FETCH_TICKETS';\nexport const ADD_COLOURS = 'ADD_COLOURS';\nexport const FETCH_HALLS = 'FETCH_HALLS';\nexport const HANDLE_DATE_INPUT_SUBMIT = 'HANDLE_DATE_INPUT_SUBMIT';\nexport const RESET_DATE = 'RESET_DATE';\nexport const UPPERBAR_BACKWARD_SWITCHER = 'UPPERBAR_BACKWARD_SWITCHER';\nexport const DETERMINE_RESERVED_SLOTS = 'DETERMINE_RESERVED_SLOTS'; \nexport const HANDLE_NEW_USER_ACCOUNT = 'HANDLE_NEW_USER_ACCOUNT'; \nexport const VALIDATE_USER = 'VALIDATE_USER'; \nexport const DISCARD_USER = 'DISCARD_USER';\nexport const SELECT_SLOT = 'SELECT_SLOT';\nexport const UNSELECT_SLOT = 'UNSELECT_SLOT';\nexport const DISCARD_ALL_SELECTED_SLOTS = 'DISCARD_ALL_SELECTED_SLOTS';\nexport const DETERMINE_USERS_PRIOR_RESERVATIONS = 'DETERMINE_USERS_PRIOR_RESERVATIONS';\nexport const SET_TICKET_TO_EDIT ='SET_TICKET_TO_EDIT';\nexport const DISCARD_TICKET_TO_EDIT = 'DISCARD_TICKET_TO_EDIT';\nexport const ADD_NEW_TICKETS = 'ADD_NEW_TICKETS';\nexport const WITHDRAW_TICKET = 'WITHDRAW_TICKET';\nexport const EDIT_TICKET = 'EDIT_TICKET';\nexport const RENDER_LOGIN_SERVER_ERROR = 'RENDER_LOGIN_SERVER_ERROR';\nexport const ERASE_LOGIN_SERVER_ERROR = 'ERASE_LOGIN_SERVER_ERROR';","export function composeSlotId(chosenDate, hour, colour) {         \n    const fullDate = (chosenDate) ? new Date(chosenDate) : new Date()\n    const date = fullDate.getDate()\n    const keyDate = date.toString().length === 2 ? date : \"0\" + date;\n    const keyMonth = (fullDate.getMonth() + 1).toString().length === 2 ? (fullDate.getMonth() + 1) : \"0\" + (fullDate.getMonth() + 1);\n    const keyYear = fullDate.getYear().toString().slice(1);\n    const idHour = String(hour).length === 1 ? \"0\" + hour : hour;\n    return (`date:${keyDate}${keyMonth}${keyYear}hour:${idHour}colour:${colour}`);\n}\n\nexport function calculateReservedSlots(tickets, halls, date) {\n    let reservedSlots = []\n    for (let i = 0; i < tickets.length; i++) {\n        let fromTime = new Date(tickets[i].from)\n        let toTime = new Date(tickets[i].to)\n        const title = tickets[i].title\n\n        if (toTime < new Date().setHours(0)) { continue }\n\n        else if (fromTime !== toTime && fromTime < toTime) {\n            fromTime = new Date(new Date(new Date(fromTime.setMilliseconds(0)).setSeconds(0)).setMinutes(0))\n            toTime = new Date(new Date(new Date(toTime.setMilliseconds(0)).setSeconds(0)).setMinutes(0))\n\n            let theDay = (date) ? new Date(date) : new Date()\n            let dayChosenStart = (new Date(new Date(new Date(new Date(theDay).setHours(0)).setMinutes(0)).setSeconds(0)).setMilliseconds(0)) - 5\n            let dayChosenEnd = (new Date(new Date(new Date(new Date(theDay).setHours(23)).setMinutes(59)).setSeconds(59)).setMilliseconds(999)) + 5\n\n            if ((fromTime <= dayChosenStart && toTime >= dayChosenStart) ||         \n                (fromTime >= dayChosenStart && toTime <= dayChosenEnd) ||\n                (fromTime <= dayChosenEnd && toTime >= dayChosenEnd)) {\n\n                    let hall = halls.find((element) => {                  \n                    return element._id === tickets[i].hall_id\n                })\n\n                if (fromTime <= toTime) {\n                    do{\n                        const slotID = `${composeSlotId(fromTime, fromTime.getHours(), hall.colour)}title:${title}`\n                        reservedSlots.push(slotID);\n                        fromTime.setHours(fromTime.getHours() + 1)\n                    }while(fromTime <= toTime)\n                }\n            }\n        }\n    }\n    return reservedSlots\n}\n\n\nexport function checkIfSlotReserved(reservedSlots, id) { \n    return reservedSlots.find(function(element){\n        return element.slice(0, 28) === id \n    })\n}\n\n\nexport function checkIfSlotSelected(selectedSlots, id) {   \n    return selectedSlots.find(function(element){\n        return element.slice(0, 28) === id \n    })\n}\n\n\nexport function prepareSelectedSlotsRendering(slots_id, halls, user) {\n\n    let orderListToUniteAdjacent = []\n        for (let i = 0; i < slots_id.length; i++) {\n            let order = {\n                hall_id: halls.find((element) => element.colour === slots_id[i].slice(-3))._id,               \n                from: Date.parse(`20${slots_id[i].slice(9, 11)}-${slots_id[i].slice(7, 9)}-${slots_id[i].slice(5, 7)}T${slots_id[i].slice(16, 18)}:00:00`),\n                to: Date.parse(`20${slots_id[i].slice(9, 11)}-${slots_id[i].slice(7, 9)}-${slots_id[i].slice(5, 7)}T${slots_id[i].slice(16, 18)}:59:00`),\n            }\n            orderListToUniteAdjacent.push(order)\n        }\n  \n    let ticketsHallsArray = []\n        for (let i = 0; i < orderListToUniteAdjacent.length; i++) {\n            let ifNewHallArrayIsNeeded = true\n\n            if (ticketsHallsArray.length === 0) {\n                let sameHallTicketsArray = []                                           \n                sameHallTicketsArray.push(orderListToUniteAdjacent[i])           \n                ticketsHallsArray.push(sameHallTicketsArray)\n                ifNewHallArrayIsNeeded = false\n            } else {\n                for (let j = 0; j < ticketsHallsArray.length; j++) {\n                    if (ticketsHallsArray[j][0].hall_id === orderListToUniteAdjacent[i].hall_id) {       \n                        ticketsHallsArray[j].push(orderListToUniteAdjacent[i])                        \n                        ifNewHallArrayIsNeeded = false\n                    }\n                }\n            }\n            if (ifNewHallArrayIsNeeded) {\n                let sameHallTicketsArray = []                                         \n                sameHallTicketsArray.push(orderListToUniteAdjacent[i])          \n                ticketsHallsArray.push(sameHallTicketsArray)\n            }\n        }\n\n        let finalArray \n\n        (function uniteAdjacentTickets(ticketsHallsArray){\n            let doItAgain = false\n\n            ticketsHallsArray.forEach((sameHallTicketsArray) => {\n                for (let i = 0; i < sameHallTicketsArray.length; i++) {\n                    for (let j = 0; j < sameHallTicketsArray.length; j++) {\n\n                        if ((sameHallTicketsArray[j].from - sameHallTicketsArray[i].to) < 300000 &&\n                            (sameHallTicketsArray[j].from - sameHallTicketsArray[i].to) > 0) {\n\n                            let newTicket = {\n                                from: sameHallTicketsArray[i].from,\n                                to: sameHallTicketsArray[j].to,\n                                hall_id: sameHallTicketsArray[i].hall_id,\n                            }\n\n                            if (i > j) {\n                                sameHallTicketsArray.splice(i, 1)\n                                sameHallTicketsArray.splice(j, 1, newTicket)\n                            }\n                            else {\n                                sameHallTicketsArray.splice(j, 1)\n                                sameHallTicketsArray.splice(i, 1, newTicket)\n                            }\n                            doItAgain = true\n                            break;\n                        }\n                        else if ((sameHallTicketsArray[i].from - sameHallTicketsArray[j].to) < 300000 &&\n                            (sameHallTicketsArray[i].from - sameHallTicketsArray[j].to) > 0) {\n\n                            let newTicket = {\n                                from: sameHallTicketsArray[j].from,\n                                to: sameHallTicketsArray[i].to,\n                                hall_id: sameHallTicketsArray[i].hall_id,\n                            }\n\n                            if (i > j) {\n                                sameHallTicketsArray.splice(i, 1)\n                                sameHallTicketsArray.splice(j, 1, newTicket)\n                            }\n                            else {\n                                sameHallTicketsArray.splice(j, 1)\n                                sameHallTicketsArray.splice(i, 1, newTicket)\n                            }\n                            doItAgain = true\n                            break;\n                        }\n                    }\n                }\n            })\n\n            if (doItAgain) {\n                uniteAdjacentTickets(ticketsHallsArray)\n            } else {\n                let arrayWithUnitedAdjacentTickets = []\n                ticketsHallsArray.forEach(i => i.forEach(ii => {\n                    ii.title = \"untitled\" \n                    ii.user_id = user._id                                                   \n                    arrayWithUnitedAdjacentTickets.push(ii)\n                }))\n                finalArray = arrayWithUnitedAdjacentTickets\n            }\n        })(ticketsHallsArray)\n        \n        return finalArray\n}\n\nexport function convertMlsToyyyymmddThhmm (mls) {\n    return new Date(\n        new Date(mls)\n          .toString()\n          .split(\"GMT\")[0] + \" UTC\"\n      )\n        .toISOString()\n        .split(\":00.\")[0]\n}\n\nexport function convertYyyymmddThhmmToMls (time) {\n    return Date.parse(new Date(time))\n}\n\nexport function convertToUKdate (time) {\n    const timeOptionsForRendering = {\n        day: 'numeric',\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long', \n        hour: 'numeric', \n        minute: 'numeric',\n    }\n    return new Intl.DateTimeFormat('en-GB', timeOptionsForRendering).format(time)    \n}\n\nexport function convertTimeIntoMonth(time){\n    let monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n    return monthNames[new Date(time).getMonth()]\n}\n\nexport function convertMlsToYYYYmmDD(time, format) {\n \n        let t = new Date(time);\n        let tf = function (i) { return (i < 10 ? '0' : '') + i };\n        return format.replace(/yyyy|MM|dd|HH|mm|ss/g, function (a) {\n            switch (a) {\n                case 'yyyy':\n                    return tf(t.getFullYear());\n                case 'MM':\n                    return tf(t.getMonth() + 1);\n                case 'mm':\n                    return tf(t.getMinutes());\n                case 'dd':\n                    return tf(t.getDate());\n                case 'HH':\n                    return tf(t.getHours());\n                case 'ss':\n                    return tf(t.getSeconds());\n                default:\n                    return null;\n            }\n        })\n}\n\nexport function convertYYYYmmDDToMls(date) { \n    return new Date(new Date(new Date().setFullYear(date.slice(0, 4))).setMonth(Number(date.slice(5, 7))-1)).setDate(date.slice(8))\n}\n\nexport function calculateTimeUsedPerMonth(time, tickets, halls){    \n    let month = new Date(time).getMonth()\n    let start = new Date(new Date(new Date(new Date(new Date(time).setDate(1)).setHours(0)).setMinutes(0)).setSeconds(0)).setMilliseconds(0)\n    let end = new Date(start).setMonth(month + 1)\n    let sortedTicketsPerHalls = []\n\n    for (let i = 0; i < halls.length; i++){\n        sortedTicketsPerHalls.push({\n            hall_id: halls[i]._id,\n            tickets: []\n        })\n    }\n    for (let i = 0; i < tickets.length; i++){\n        for (let j = 0; j < sortedTicketsPerHalls.length; j++) {\n            if (tickets[i].hall_id === sortedTicketsPerHalls[j].hall_id) {\n                sortedTicketsPerHalls[j].tickets.push(tickets[i])\n            } \n        }\n    }\n    let newArr = []\n    for (let j = 0; j < sortedTicketsPerHalls.length; j++) {           \n        newArr[j] = sortedTicketsPerHalls[j].tickets.filter(i => i.to > start)\n    }\n    for (let j = 0; j < newArr.length; j++) {           \n        sortedTicketsPerHalls[j].tickets = newArr[j]\n    }\n    for (let j = 0; j < sortedTicketsPerHalls.length; j++) {           \n        newArr[j] = sortedTicketsPerHalls[j].tickets.filter(i => i.from < end)\n    }\n    for (let j = 0; j < newArr.length; j++) {           \n        sortedTicketsPerHalls[j].tickets = newArr[j]\n    }\n    for (let j = 0; j < sortedTicketsPerHalls.length; j++) {\n      for(let i = 0; i < sortedTicketsPerHalls[j].tickets.length; i++) {\n        if (sortedTicketsPerHalls[j].tickets[i].from < start) {\n          sortedTicketsPerHalls[j].tickets[i].from = start\n        }\n        if (sortedTicketsPerHalls[j].tickets[i].to > end) {\n            sortedTicketsPerHalls[j].tickets[i].to = end\n        }\n    }}\n    newArr = []\n    for (let j = 0; j < sortedTicketsPerHalls.length; j++) {\n        sortedTicketsPerHalls[j].totalHours = 0\n        for(let i = 0; i < sortedTicketsPerHalls[j].tickets.length; i++) {\n            sortedTicketsPerHalls[j].totalHours += (sortedTicketsPerHalls[j].tickets[i].to - sortedTicketsPerHalls[j].tickets[i].from)\n        }\n        sortedTicketsPerHalls[j].totalHours /= 3600000\n        newArr.push(Math.round(sortedTicketsPerHalls[j].totalHours))\n    }\n     return newArr\n} \n\nexport function getUniqueId(){\n return '_' + Math.random().toString(36).substr(2, 9);\n}","import styled from 'styled-components';\nimport Button from \"@material-ui/core/Button\";\nimport Select from 'react-select'; \nimport Paper from '@material-ui/core/Paper'\nimport TextField from '@material-ui/core/TextField'\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport  Carousel  from  'semantic-ui-carousel-react';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar';\n\nconst blueSlot = 'rgb(18, 11, 120)';\nconst redSlot = 'rgb(178,34,34)';\nconst greenSlot = 'rgba(19, 55, 11, 0.9)';\nconst violetSlot = 'rgba(108, 92, 231, 0.9)';\n\nconst blueFont = 'rgb(206, 221, 252)';\nconst redFont = 'rgb(252, 200, 208)';\nconst greenFont = 'rgb(216, 255, 206)';\nconst violetFont = 'rgb(255,  245,  255)'\n\n\nexport const Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n`;\n\nexport const PaymentButton = styled(Button)`\n    && {\n        width: 50%;\n        margin-bottom: 2em !important;\n        position: inherit !important;\n    }\n    &&:hover {\n        color: \t#4183c4;\n    }\n    @media only screen and (max-width: 480px) {\n        && {\n            background-color: #3F51B5;\n        }\n        &&:hover {\n            color: \torange;\n        }\n    }\n`;\n\nexport const ChartPeriodSelect = styled(Select)`\n    width: 10em;\n    margin-left: 1em;\n    justify-content: center;\n`;\n\nexport const ChartSelectContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: left;\n    align-items: center;\n    flex-wrap: wrap;\n    font-size: 1.2em;\n    margin-left: 1em;\n    margin-top: 1em;\n`;\n\nexport const ChartTitle = styled.div`\n    text-align: center;\n    font-size: 1.5em;\n    margin-top: 2em;\n    margin-bottom: 1em;\n`;\n\nexport const DoughnutChartContainer = styled.div`\n    display: ${props => props.period === 'day' ? 'flex' : 'none'};\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n`;\n\nexport const BarChartContainer = styled.div`\n    display: ${props => props.period === 'day' ? 'none' : 'flex'};\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n`;\n\nexport const LoginError = styled.div`\n    color: red;\n`;\n\nexport const ReturnHomeLink = styled.p`\n    margin-top: 1.5em;\n    color: darkblue;\n    text-decoration: underline;\n    font-size: 1.2em;\n    padding-bottom: 0.5em;\n`;\n\nexport const SignupMain = styled.div`\n    display: block;  /* Fix IE 11 issue. */\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background: rgb(207, 207, 207);\n`;\n\nexport const SingupPaper = styled(Paper)`\n    height: 45em;\n    width: 32em;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n`;\n\nexport const SingupFormContainer = styled.form`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n`;\n\nexport const SignupTitle = styled.div`\n    font-size: 1.5em; \n    font-weight: bold;\n    margin-bottom: 1em;\n    color: #7D6B91;\n`;\n\nexport const SignupCheckboxContainer = styled.div`\n    margin-right: 8.5em;\n`;\n\nexport const SignupCheckboxLabel = styled.label`\n    font-size: 1.1em;\n    color: gray;\n`;\n\nexport const SignupServerError = styled.div`\n    height: 2em;\n    width: 21em;\n    color: red;\n    font-weight: bold;\n`;\n\nexport const SignupLinkContainer = styled.div`\n    margin-top: 1em;\n`;\n\nexport const SignupErrorContainer = styled.div`\n    color: red;\n    font-weight: bold;\n    font-size: 1.1em;\n    padding-left: 1em;\n    padding-top: 0.1em;\n`;\n\nexport const SignupInputContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 7em;   \n`;\n\nexport const SignupTextField = styled(TextField)`\n    width: 18em;\n`;\n\nexport const ConfirmContainer = styled.div`\n    position: fixed;\n    background: #E8F1F2;\n    color: #13293D;\n    top: 2em;\n    padding: 2em;\n    border-radius: 1em;\n    overflow-y: auto;\n    max-height: 90%;\n    max-width: 90%;\n    border: 1em solid #2185D0;\n`;\n\nexport const ConfirmTitle = styled.h2`\n    color: #945600;\n`;\n\nexport const ConfirmTicketContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    flex-wrap: wrap; \n    width: 100%;\n`;\n\nexport const ConfirmTitleInput = styled.input`\n    background: #E8F1F2;\n    color: #13293D;\n    border: 0.1em solid #2185D0;\n    line-height: 18px;\n`;\n\nexport const ConfirmClickBttnNote = styled.h3`\n    color: #945600;\n`;\n\nexport const ConfirmBttnsContainer = styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n`;\n\nexport const CircularProgressContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nexport const CurrentDateContainer = styled.div`\n    font-family: sans-serif;\n    font-size: 1.3em; \n`;\n\nexport const DateInputContainer = styled.div`\n    padding-right: 1em; \n    display: flex !important;\n    flex-direction: row !important;\n    justify-content: center;\n    @media only screen and (max-width: 480px) {\n        margin-left: 1.5em;\n    }\n`;\n\nexport const DateInput = styled.input`\n    width: 10.5em !important;\n    padding: 0.2em !important;\n    line-height: 1em;\n    background: #FBFBFF; \n`;\n\nexport const SearchIconContainer = styled.div`\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    padding-left: 0.5em;\n`;\n\nexport const SearchIcon = styled.i`\n    color: #FBFBFF;\n    cursor: pointer;\n`;\n\nexport const GuideContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    color: #7D6B91;\n    padding-top: 2em;\n    padding-bottom: 1em;\n    margin-left: 0.5em;\n    margin-right: 0.5em;\n    flex-wrap: wrap;\n`;\n\nexport const GuideParagraph = styled.p`\n    font-size: 1.2em;\n    margin-left: 0.5em;\n    margin-right: 0.5em;\n    margin-top: 0;\n    margin-bottom: 0;\n    color: #272838;\n`;\n\nexport const GuideSpan = styled.span`\n    font-size: 1.2em;\n    margin-left: 0.5em;\n    margin-right: 0.5em;\n    margin-top: 0;\n    margin-bottom: 0;\n    color: #272838;\n`;\n\nexport const GuideDiv = styled.div`\n    display: flex; \n    flex-direction: row;\n    align-items: center;\n    margin-left: 0.5em;\n`;\n\nexport const TitleDiv = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    color: #7D6B91;\n    padding-top: 3em;\n    padding-bottom: 2em;\n    margin-left: 0.5em;\n    margin-right: 0.5em;\n    @media only screen and (max-width: 480px) {\n        margin-top: 5em;\n        color: #7D6B91;\n        padding-top: 2em;\n        padding-bottom: 1em;\n    }\n`;\n\nexport const TitleLine = styled.div`\n    color: #7D6B91 !important;\n    font-size: 2em !important;\n    font-weight: bold;\n    @media only screen and (max-width: 480px) {\n        color: #748CAB !important;\n    }\n`;\n\nexport const HallsMain = styled.div`\n    display: flex;\n    flex-direction: row;\n    flex-flow: wrap;\n    justify-content: space-around; \n`;\n\nexport const HallCard = styled(Card)`\n    max-width: 400;\n    margin: 0.2em;\n    width: 18.5em;\n`;\n\nexport const HallTitleContainer = styled.div`\n    height: 4em;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    font-size: 1.2em;\n    font-weight: bold;\n    background: ${({colour}) => \n        colour === 'blu' ? blueSlot :\n        colour === 'red' ? redSlot :\n        colour === 'gre' ? greenSlot :\n        colour === 'vio' ? violetSlot : null\n    };    \n    color: ${({colour}) =>\n        colour === 'blu' ? blueFont :\n        colour === 'red' ? redFont :\n        colour === 'gre' ? greenFont :\n        colour === 'vio' ? violetFont : null\n    }; \n`;\n\nexport const HallCardContent = styled(CardContent)`\n    font-weight: bold;\n    padding-bottom: 1.4em !important;\n    padding: 1.4em !important;\n    text-align: center;\n    background: ${({colour}) => \n        colour === 'blu' ? blueSlot :\n        colour === 'red' ? redSlot :\n        colour === 'gre' ? greenSlot :\n        colour === 'vio' ? violetSlot : null\n    }; \n    color: ${({colour}) =>\n        colour === 'blu' ? blueFont :\n        colour === 'red' ? redFont :\n        colour === 'gre' ? greenFont :\n        colour === 'vio' ? violetFont : null\n    };  \n`;\n\nexport const HallCardMedia = styled(CardMedia)`\n    height: 0;\n    padding-top: 56.25%; \n`;\n\nexport const HallCarousel = styled(Carousel)`\nwidth: 100%;\nheight: 100%;\n    background-color: #ECF0F1 !important;\n    background: red !important;\n    color: red !important;\n`;\n\nexport const RoomSlot = styled.div`\n    width: ${props => props.guide ? '1.7em' : '2em'}; \n    height: ${props => props.guide ? '1.7em' : '2em'};\n    margin: ${props => props.guide ? '0.05em' : '0.5em'};\n    border-radius: 0.4em;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-width: ${props => props.chosen ? '4px' : '2px'};\n    border-style: solid;\n    border-color: ${({colour}) => \n        colour === 'blu' ? blueSlot :\n        colour === 'red' ? redSlot :\n        colour === 'gre' ? greenSlot :\n        colour === 'vio' ? violetSlot : null\n    };\n    color: ${({colour}) => \n        colour === 'blu' ? blueSlot :\n        colour === 'red' ? redSlot :\n        colour === 'gre' ? greenSlot :\n        colour === 'vio' ? violetSlot : null\n    };\n    background: ${({colour, chosen}) => \n        !chosen && colour === 'blu' ? 'rgba(97, 143, 236, 0.1)' :\n        !chosen && colour === 'red' ? 'rgba(240,128,128,0.1)' :\n        !chosen && colour === 'gre' ? 'rgba(193, 241, 183, 0.1)' :\n        !chosen && colour === 'vio' ? 'rgba(123, 136, 255, 0.1)' : 'orange'\n    };\n    \n    &:hover{\n    background: ${({colour, hover}) => \n        hover && colour === 'blu' ? 'rgba(31, 112, 251, 0.6)' :\n        hover && colour === 'red' ? 'rgba(240,128,128,0.8)' :\n        hover && colour === 'gre' ? 'rgba(112, 251, 31, 0.6)' :\n        hover && colour === 'vio' ? 'rgba(189,  173,  255, 0.6)' : null\n    }};\n`;\n\nexport const ReservedSlot = styled.div`\n    width: ${props => props.guide ? '1.7em' : '2em'}; \n    height: ${props => props.guide ? '1.7em' : '2em'};\n    margin: ${props => props.guide ? '0.05em' : '0.5em'};\n    border-radius: 0.4em;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border: solid 2px ${({colour}) => \n        colour === 'blu' ? blueSlot :\n        colour === 'red' ? redSlot :\n        colour === 'gre' ? greenSlot :\n        colour === 'vio' ? violetSlot : null\n    };\n    color: ${({colour}) => \n        colour === 'blu' ? blueFont :\n        colour === 'red' ? redFont :\n        colour === 'gre' ? greenFont :\n        colour === 'vio' ? violetFont : null\n    };\n    background: ${({colour}) => \n        colour === 'blu' ? 'rgba(31, 21, 182,0.9)' :\n        colour === 'red' ? 'rgba(220,20,60,0.9)' :\n        colour === 'gre' ? 'rgba(33, 100, 19, 1)' :\n        colour === 'vio' ? 'rgba(108, 92, 231, 0.9)' : null\n    };\n`;\n\nexport const ScheduleWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n    margin-top: 1em;\n    margin-bottom: 1em;\n    width: auto;\n    height: auto;\n    @media only screen and (max-width: 480px) {\n        flex-direction: column;\n    }\n`;\n\nexport const HourDesignator = styled.div`\n    padding-left: 0.5em;\n\n`;\n\nexport const HourColumnContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    @media only screen and (max-width: 480px) {\n        flex-direction: row;\n    }\n`;\n\nexport const EditMain = styled.div`\n    position: fixed;\n    background: linear-gradient(0deg, rgba(9,9,121,1) 0%, rgba(63,81,181,1) 50%, rgba(33,33,105,0.9654236694677871) 100%);\n    color: white;\n    top: 2em;\n    padding: 2em;\n    margin-right: 2em;\n    margin-left: 2em;\n    overflow: scroll;\n    overflow-x: auto;\n    min-width: 70%;\n    max-height: 90%;\n    max-width: 90%;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    justify-content: flex-start;\n    border-radius: 0.5em;\n\n    @media only screen and (max-width: 480px) {\n        margin-top: 2em;\n        margin-left: 0;\n        margin-right: 0;\n    }\n`;\n\nexport const EditTitle = styled.div`\n    font-size: 1.2em;\n    font-weight: bold;\n    font-family: Arial, Helvetica, sans-serif;\n`;\n\nexport const EditRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    color: white;\n    align-items: center;\n    flex-wrap: wrap;\n    margin-bottom: 2em;\n`;\n\nexport const EditFirstColumn = styled.div`\n    font-style: italic;\n`;\n\nexport const EditInput = styled.input`\n    border:0;\n    padding: 0.5em;\n    border-radius: 1em; \n    margin: 1em;\n`;\n\nexport const EditButton = styled(Button)`\n    background: ${({confirm}) => confirm ? '#1B3B6F !important' : '#3943B7 !important' };\n    color: white !important;\n    font-weight: bold !important;\n    padding-right: 1.8em !important;\n    padding-left: 1.8em !important;\n    padding-top: 0.5em !important;\n    padding-bottom: 0.5em !important;\n`; \n\nexport const SignupButton = styled(Button)`\n    color: #FBFBFF !important;\n    cursor: pointer !important;\n    font-weight: bold !important;\n    &:hover{\n        color: \t#F1BF98 !important;\n    }\n`;\n\nexport const SigninButton = styled(Button)`\n    color: #15cda8 !important;\n    font-weight: bold !important;\n    margin-left: 0.5em !important;\n    border: solid 0.25em #15cda8 !important;\n    &:hover{\n        border: solid 0.25em #F1BF98 !important;\n        color: \t#F1BF98 !important;\n    }\n`;\n\nexport const BurgerMenuIconContainer = styled.div`\n    color: white;\n    font-size: 20px;\n    padding-right: 0.3em;\n    padding-top: 0;\n    padding-bottom: 0;\n    &:hover{\n    color: orange;\n    cursor: pointer;\n    }\n`;\n\nexport const BurgerMenu = styled.div`\n    display: ${({display}) => display}\n    position: absolute;\n    background: #3f51b5;\n    width: 85%;\n    height: 100%;\n    flex-direction: row;\n    align-items: center;\n    justify-content: left;\n    padding-left: 1em; \n    & a{\n    margin-right: 1em;\n    margin-left: 1em;\n    }\n`;\n\nexport const BurgerMenuSpan = styled.span`\n    color: white;\n    font-weight: bold;\n    &:hover{\n        color: orange;\n    }\n`;\n\nexport const UpperbarContainer = styled.div`\nwidth: 100%;\n    @media only screen and (max-width: 480px) {\n        position: fixed;\n        top: 0;\n        z-index: 1;\n        width: 100%;\n    }\n`;\n\nexport const Switcher = styled.i`\n    width: 0.6em !important;\n    padding-top: 0.05em;\n    color: ${({inactive}) => inactive ? 'lightgrey' : 'rgb(21, 205, 168)'};\n    cursor: pointer;\n    margin:0 !important;\n    padding:0 !important;\n\n    &:hover{\n        color: ${props => props.inactive ? null : 'orange'} \n    }\n`;\n\nexport const DateSwitcherContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    @media only screen and (max-width: 480px) {\n        display: none;\n    }\n`;\n\nexport const UpperToolbar = styled(Toolbar)`\n    width: 100% !important;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    @media only screen and (max-width: 480px) {\n        padding-left: 0 !important;\n    }\n`;\n\nexport const UpperAppBar = styled(AppBar)`\n    width: 100% !important;\n`;\n\nexport const PriorOrdersMain = styled.div`\n    color: white;\n    border-radius: 0.5em;\n    margin-bottom: 2em;\n    margin-top: 2em;\n    font-size: 1.2em;\n    background: linear-gradient(90deg, #0F084B 0%, #26408B 50%, #0F084B 100%);\n    width: 70%;\n    @media only screen and (max-width: 480px) {\n        width: 100%;\n    }\n`;\n\nexport const PriorOrdersTitle = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: #EFEFEF ;\n    margin-top: 2em;\n    margin-bottom: 2em;\n    font-size: 1.2em;\n    font-weight: bold;\n    @media only screen and (max-width: 480px) {\n        font-size: 1em;\n    }\n`;\n\nexport const PriorOrdersContainer = styled.div`\n    margin-top: 1em;\n    margin-bottom: 1em;\n    color: white;\n    font-family: Arial, \"Helvetica Neue\", Helvetica, sans-serif;\n    font-size: 1em;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;   \n`;\n\nexport const PriorOrdersTableContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start !important;\n    justify-content: space-between;\n    flex-wrap: wrap;\n`;\n\nexport const PriorOrdersTable = styled.table`\n    margin-left: 1em;\n    @media only screen and (max-width: 480px) {\n        margin-left: 0.5em;\n    }\n`;\n\nexport const PriorOrderTd1 = styled.td`\n    font-style: italic;\n`;\n\nexport const PriorOrderTd2 = styled.td`\n    width: 3em;\n    @media only screen and (max-width: 480px) {\n        width: 0em;\n    }\n`;\n\nexport const PriorOrdersButtonContainer = styled.div`\n    margin-right: 1em;\n    @media only screen and (max-width: 480px) {\n        display: flex;\n        justify-content: center; \n        align-items: center;\n        flex-wrap: wrap;\n    }\n`;\n\nexport const PriorOrdersButton = styled.button`\n    background: ${props => props.secondary ? '#DB3069 !important' : '#357DED !important'} ; \n    margin: 1em !important;\n    color: white !important;\n    font-weight: bold !important;\n`;\n\nexport const LoginServerErrorContainer = styled.div`\n    height: 2em;\n    font-size: 1.2em;\n    color: red;\n    font-weight: bold;\n`;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { handleDateInputSubmit, handleUpperBackSwitcher, determineReservedSlots } from '../actions';\nimport { calculateReservedSlots, convertMlsToYYYYmmDD, convertYYYYmmDDToMls } from '../functions'\nimport { DateInputContainer, DateInput, SearchIconContainer, SearchIcon} from '../styles'\n\nclass DateSearch extends Component {\n\tstate = {\n\t\tdateInput: ''\n\t}\n\n\tcomponentWillMount() {\n\t\tif (window.screen.width <= 480 && this.state.dateInput === '') {\n\t\t\tthis.setState({dateInput:convertMlsToYYYYmmDD(new Date(this.props.dateInput).getTime(), 'yyyy-MM-dd')})\n\t\t}\n\t}\n\n\tdateLimit() {\n\t\tlet date1 = new Date();\n\t\tlet minLimit = (date1.getDate())\n\t\tdate1.setDate(minLimit)\n\t\treturn (date1.toISOString().split(\"T\")[0])\n\t}\n\n\thandleDateInputSubmit() {\n\t\tlet today = new Date(new Date(new Date(new Date(new Date().setHours(0)).setMinutes(0)).setSeconds(0)).setMilliseconds(0))\n\t\tlet inputtedDay = new Date(this.state.dateInput)\n\t\tif (inputtedDay < today) {\n\t\t\talert('The searched date cannot be erenow ')\n\t\t\tthis.setState({ dateInput: '' })\n\n\t\t} else if (inputtedDay.getDate() === today.getDate()) {\n\t\t\tthis.props.handleUpperBackSwitcher('inactive')\n\t\t\tthis.props.handleDateInputSubmit(convertYYYYmmDDToMls(this.state.dateInput))\n\t\t\tthis.props.determineReservedSlots(calculateReservedSlots(this.props.tickets, this.props.halls, convertYYYYmmDDToMls(this.state.dateInput)))\n\t\t\tif (window.screen.width > 480) {\n\t\t\t\tthis.setState({ dateInput: '' })\n\t\t\t}\n\t\t} else if (inputtedDay > today) {\n\t\t\tthis.props.handleUpperBackSwitcher('active')\n\t\t\tthis.props.handleDateInputSubmit(convertYYYYmmDDToMls(this.state.dateInput))\n\t\t\tthis.props.determineReservedSlots(calculateReservedSlots(this.props.tickets, this.props.halls, convertYYYYmmDDToMls(this.state.dateInput)))\n\t\t\tif (window.screen.width > 480) {\n\t\t\t\tthis.setState({ dateInput: '' })\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<DateInputContainer className=\"ui input\">\n\t\t\t\t<DateInput\n\t\t\t\t\ttype='date'\n\t\t\t\t\tmin={this.dateLimit()}\n\t\t\t\t\tvalue={this.state.dateInput}\n\t\t\t\t\tonChange={(e) => this.setState({ dateInput: e.target.value })}\n\t\t\t\t/>\n\t\t\t\t<SearchIconContainer>\n\t\t\t\t\t<SearchIcon className={\"search icon \"}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.handleDateInputSubmit(convertYYYYmmDDToMls(this.state.dateInput))\n\t\t\t\t\t\t}}>\n\t\t\t\t\t</SearchIcon>\n\t\t\t\t</SearchIconContainer>\n\t\t\t</DateInputContainer>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn { \n\t\tdateInput: state.dateInput,\n\t\thalls: state.halls,\n\t\ttickets: state.tickets \n\t};\n};\n\nexport default connect(mapStateToProps, { \n\t\thandleDateInputSubmit, \n\t\thandleUpperBackSwitcher,\n\t\tdetermineReservedSlots \n})(DateSearch);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { handleDateInputSubmit, handleUpperBackSwitcher, determineReservedSlots } from '../actions';\nimport { calculateReservedSlots } from '../functions'\nimport { Switcher } from '../styles'\n\nclass SwitchBack extends React.Component {\n\n  handleDayChange() {\n    let fullDate = this.props.dateInput ? new Date(this.props.dateInput) : new Date()\n    let nextDate = fullDate.getDate() - 1;\n    let nextDateMls = fullDate.setDate(nextDate)\n    this.props.handleDateInputSubmit(nextDateMls)\n    const tomorrow = new Date(new Date(new Date(new Date((new Date(new Date().getTime() + (24 * 60 * 60 * 1000))).setHours(0)).setMinutes(0)).setSeconds(0)).setMilliseconds(0));\n    \n    if (nextDateMls < tomorrow) {\n      this.props.handleUpperBackSwitcher(false)\n    } \n    this.props.determineReservedSlots(calculateReservedSlots(this.props.tickets, this.props.halls, nextDateMls))\n  }\n  render() {\n    return (\n      <Switcher inactive={!this.props.switcherStatus} className={`big caret left icon`} \n        onClick={(e)=>{ this.props.switcherStatus ? this.handleDayChange() : e.preventDefault() }}\n      />\n    );\n  }\n} \n\nconst mapStateToProps = (state) => {\n  return { \n    switcherStatus: state.backSwitcher, \n    dateInput: state.dateInput,\n    tickets: state.tickets,\n    halls: state.halls\n  }; \n};\nexport default connect (mapStateToProps, {\n  handleDateInputSubmit, \n  handleUpperBackSwitcher,\n  determineReservedSlots\n})(SwitchBack);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { handleDateInputSubmit, handleUpperBackSwitcher, determineReservedSlots } from '../actions';\nimport { calculateReservedSlots } from '../functions'\nimport { Switcher } from '../styles'\n\nclass SwitchForth extends React.Component {\n  handleDayChange() {\n    let fullDate = this.props.dateInput ? new Date(this.props.dateInput)  : new Date()\n    let nextDate = fullDate.getDate() + 1;\n    let nextDateMls = fullDate.setDate(nextDate)\n    this.props.handleDateInputSubmit(nextDateMls)\n    this.props.handleUpperBackSwitcher(true)\n    this.props.determineReservedSlots(calculateReservedSlots(this.props.tickets, this.props.halls, nextDateMls))\n  }\n  render() {\n    return <Switcher className={\"big caret right icon\"} onClick={()=>{this.handleDayChange(true)}} />\n  }\n} \n\nconst mapStateToProps = (state) => {\n  return { \n    switcherStatus: state.backSwitcher, \n    dateInput: state.dateInput,\n    tickets: state.tickets,\n    halls: state.halls,      \n  }; \n};\nexport default connect (mapStateToProps, { \n  handleDateInputSubmit, \n  handleUpperBackSwitcher,\n  determineReservedSlots\n})(SwitchForth);\n\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { CurrentDateContainer } from '../styles';\n\nclass CurrentDate extends React.Component {\n\n    renderDate() {\n        const fullDate = this.props.dateInput !== '' ? new Date(this.props.dateInput) : new Date()\n        const monthOption = { month: 'long' };\n        const weekdayOption = { weekday: 'long' };\n        const date = fullDate.getDate()\n        const month = new Intl.DateTimeFormat('en-GB', monthOption).format(fullDate)\n        const weekday = new Intl.DateTimeFormat('en-GB', weekdayOption).format(fullDate)\n        return (`${date} ${month}, ${weekday}`)\n    }\n\n    render() {\n        return (\n            <CurrentDateContainer>\n              {this.renderDate()}\n            </CurrentDateContainer>\n        );\n    }\n} \n\nconst mapStateToProps = (state) => {\n    return { dateInput: state.dateInput }; \n};\nexport default connect (mapStateToProps, {})(CurrentDate);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport DateSearch from './DateSearch';\nimport SwitchBack from './SwitchBack'\nimport SwitchForth from './SwitchForth'\nimport CurrentDate from './CurrentDate'\nimport { connect } from 'react-redux'\nimport { discardUser, discardAllSelectedSlots, resetDate } from '../actions' \nimport { \n  UpperbarContainer,\n  UpperAppBar,\n  UpperToolbar,\n  DateSwitcherContainer,\n  SignupButton,\n  SigninButton,\n  BurgerMenuIconContainer,\n  BurgerMenu,\n  BurgerMenuSpan,\n} from '../styles'\n\nclass UpperBar extends Component {\n  state={\n    burger: 'none', \n    path: null\n  }\n\n  componentWillMount() {\n    this.setState({path: this.fixGitPathname()})\n  }\n\n  handleEntranceExit = () => {\n    this.props.discardUser(); \n    this.props.discardAllSelectedSlots()\n    this.props.resetDate()\n  }\n\n  handleBurgerMenuIconClick = () => {\n    this.state.burger === 'none' ? this.setState({burger: 'flex'}) : this.setState({burger: 'none'})    \n  }\n\n  fixGitPathname = () => {\n    let path = window.location.pathname \n    return path.includes('/booking_test_redux') ? path.replace('/booking_test_redux', '') : path\n  }\n\n  renderUpperMenu = () =>{\n    if (window.screen.width <= 480) {\n      return (\n       <BurgerMenuIconContainer onClick={this.handleBurgerMenuIconClick}>\n          <i className=\"fa fa-bars\" />\n        </BurgerMenuIconContainer>\n      );\n     }\n    else if (this.state.path === \"/booking\") {\n      return(\n        <div>\n        <Link to=\"/charts\">\n          <SignupButton value='Charts'>\n            Charts\n          </SignupButton>\n       </Link>\n       <Link to=\"/\">\n          <SigninButton onClick={this.handleEntranceExit}>\n            Sign out\n          </SigninButton>\n        </Link> \n      </div>\n      );\n    } else if (this.state.path === \"/\") {\n      return(\n        <div>\n        <Link to=\"/charts\">\n          <SignupButton>\n            Charts\n          </SignupButton>\n        </Link>\n        <Link to=\"/signup\">\n          <SignupButton>\n            Sign up\n          </SignupButton>\n        </Link>\n        <Link to=\"/login\">\n          <SigninButton>\n            <b>Sign in</b>\n          </SigninButton>\n        </Link>\n      </div>\n      );\n    } else if (this.state.path === \"/charts\") {\n      return(\n        <div>\n        {\n          this.props.user === null\n          ?\n          <Link to=\"/\">\n            <SignupButton>\n              Home\n            </SignupButton>\n          </Link>\n          :\n          <Link to=\"/booking\">\n            <SignupButton>\n              Booking\n            </SignupButton>\n          </Link>\n        }\n      </div>\n      );\n    } \n  } \n  \n  renderBurgerMenu = () => {\n    if (this.state.path === \"/\") {\n      return(\n        <BurgerMenu display={this.state.burger}>\n        <Link to=\"/charts\">\n          <BurgerMenuSpan>\n            Charts\n          </BurgerMenuSpan>\n        </Link >\n        <Link to=\"/signup\">\n          <BurgerMenuSpan>\n            Sign up\n          </BurgerMenuSpan>\n        </Link>\n        <Link to=\"/login\">\n          <BurgerMenuSpan>\n            Sign in\n          </BurgerMenuSpan>\n        </Link>\n        </BurgerMenu>\n      );\n    } else if (this.state.path === \"/booking\") {\n      return(\n        <BurgerMenu display={this.state.burger}>\n          <Link to=\"/charts\">\n            <BurgerMenuSpan>\n              Charts \n            </BurgerMenuSpan>\n          </Link>\n          <Link to=\"/\">\n            <BurgerMenuSpan onClick={this.handleEntranceExit}>\n              Sign out\n            </BurgerMenuSpan>\n          </Link> \n        </BurgerMenu>\n      );\n    } else if (this.state.path === \"/charts\") {\n      return(      \n        <BurgerMenu display={this.state.burger}>        \n        {\n          this.props.user === null\n          ?\n          <Link to=\"/\">\n            <BurgerMenuSpan>\n              Home\n            </BurgerMenuSpan>\n          </Link>\n          :\n          <Link to=\"/booking\">\n            <BurgerMenuSpan>\n              Booking\n            </BurgerMenuSpan>\n          </Link>\n        }\n      </BurgerMenu>\n      );\n    }\n  }\n\n  render() {\n      return (\n      <UpperbarContainer>\n        <UpperAppBar position=\"static\">\n          <UpperToolbar>\n            <DateSearch />          \n            <DateSwitcherContainer>\n              <SwitchBack />\n              <CurrentDate />\n              <SwitchForth />\n            </DateSwitcherContainer>\n            { this.renderUpperMenu()}\n            { window.screen.width <= 480 ? this.renderBurgerMenu() : null }\n          </UpperToolbar>\n        </UpperAppBar>\n      </UpperbarContainer>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n      user: state.user,\n  }\n}\n\nexport default connect (mapStateToProps, {discardUser, discardAllSelectedSlots, resetDate})(UpperBar);\n\n","import React, { Component } from 'react';\nimport { selectSlot, unselectSlot } from '../actions';\nimport { connect } from 'react-redux';\nimport { RoomSlot, ReservedSlot } from '../styles';\n\nexport class FreeHome extends Component {\n    render() {\n        return <RoomSlot colour={this.props.id.slice(-3)}  id={this.props.id}>F</RoomSlot>;\n    }\n}\n\nexport class Busy extends Component {\n    render() {   \n        return <ReservedSlot \n                    colour={this.props.id ? this.props.id.slice(25, 28) : 'red'}\n                    guide={this.props.guide} \n                    id={this.props.id} \n                    data-tooltip={this.props.id ? this.props.id.slice(34): null}>\n                    R\n                </ReservedSlot>;\n    }\n}\n\nclass Free_ extends Component {\n    render() {\n        return (        <RoomSlot \n            colour={this.props.id ? this.props.id.slice(25, 28) : 'red'} \n            guide={this.props.guide} \n            id={this.props.id}\n            onClick={() => { this.props.selectSlot(this.props.id) }}\n            hover\n        >\n            F\n        </RoomSlot>\n        );\n    }\n}\nexport const Free = connect(null, { selectSlot})(Free_)\n\nclass Chosen_ extends Component {\n    render() {\n        return <RoomSlot \n                colour={this.props.id ? this.props.id.slice(25, 28) : 'red'} \n                guide={this.props.guide} \n                id={this.props.id}\n                chosen\n                onClick={() => { this.props.unselectSlot(this.props.id) }}\n        >S</RoomSlot>;\n    }\n}\nexport const Chosen = connect(null, { unselectSlot })(Chosen_)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { Component } from 'react';\n// import { selectSlot, unselectSlot } from '../actions';\n// import '../css/Rooms.css';\n// import { connect } from 'react-redux';\n\n// export class RedFreeHome extends Component {\n//     render() {\n//         return <div className=\"red-room-free-home\" id={this.props.id}>F</div>;\n//     }\n// }\n\n// export class BlueFreeHome extends Component {\n//     render() {\n//         return <div className=\"blue-room-free-home\" id={this.props.id}>F</div>;\n//     }\n// }\n\n// export class GreenFreeHome extends Component {\n//     render() {\n//         return <div className=\"green-room-free-home\" id={this.props.id}>F</div>;\n//     }\n// }\n\n// export class VioletFreeHome extends Component {\n//     render() {\n//         return <div className=\"violet-room-free-home\" id={this.props.id}>F</div>;\n//     }\n// }\n\n// export class RedBusy extends Component {\n//     render() {   \n//         return <div className={`red-room-reserved${(this.props.guide)?'-guide':''}`} id={this.props.id} data-tooltip={this.props.id ? this.props.id.slice(34): null} >R</div>;\n//     }\n// }\n\n// export class BlueBusy extends Component {\n//     render() {\n//         return <div className=\"blue-room-reserved\" id={this.props.id} data-tooltip={this.props.id ? this.props.id.slice(34): null}>R</div>;\n//     }\n// }\n\n// export class GreenBusy extends Component {\n//     render() {\n//         return <div className=\"green-room-reserved\" id={this.props.id} data-tooltip={this.props.id ? this.props.id.slice(34): null} >R</div>;\n//     }\n// }\n\n// export class VioletBusy extends Component {\n//     render() {\n//         return <div className=\"violet-room-reserved\" id={this.props.id} data-tooltip={this.props.id ? this.props.id.slice(34): null} >R</div>;\n//     }\n// }\n\n\n// class RedFree_ extends Component {\n//     render() {\n//         return <div className={`red-room-free${(this.props.guide)?'-guide':''}`} id={this.props.id}\n//             onClick={() => { this.props.selectSlot(this.props.id) }}\n//         >F</div>;\n//     }\n// }\n\n\n// export const RedFree = connect(null, { selectSlot})(RedFree_)\n\n// class BlueFree_ extends Component {\n//     render() {\n//         return <div className=\"blue-room-free\" id={this.props.id}\n//             onClick={() => { this.props.selectSlot(this.props.id) }}\n//         >F</div>;\n//     }\n// }\n// export const BlueFree = connect(null, { selectSlot})(BlueFree_)\n\n// class GreenFree_ extends Component {\n//     render() {\n//         return <div className=\"green-room-free\" id={this.props.id}\n//             onClick={() => { this.props.selectSlot(this.props.id) }}\n//         >F</div>;\n//     }\n// }\n// export const GreenFree = connect(null, { selectSlot})(GreenFree_)\n\n// class VioletFree_ extends Component {\n//     render() {\n//         return <div className=\"violet-room-free\" id={this.props.id}\n//             onClick={() => { this.props.selectSlot(this.props.id) }}\n//         >F</div>;\n//     }\n// }\n// export const VioletFree = connect(null, { selectSlot})(VioletFree_)\n\n\n\n// class RedChosen_ extends Component {\n//     render() {\n//         return <div className={`red-room-chosen${(this.props.guide)?'-guide':''}`} id={this.props.id}\n//             onClick={() => { this.props.unselectSlot(this.props.id) }}\n//         >S</div>;\n//     }\n// }\n\n\n\n// export const RedChosen = connect(null, { unselectSlot })(RedChosen_)\n\n// class BlueChosen_ extends Component {\n//     render() {\n//         return <div className=\"blue-room-chosen\" id={this.props.id}\n//             onClick={() => { this.props.unselectSlot(this.props.id) }}\n//         >S</div>;\n//     }\n// }\n// export const BlueChosen = connect(null, { unselectSlot })(BlueChosen_)\n\n// class GreenChosen_ extends Component {\n//     render() {\n//         return <div className=\"green-room-chosen\" id={this.props.id}\n//             onClick={() => { this.props.unselectSlot(this.props.id) }}\n//         >S</div>;\n//     }\n// }\n// export const GreenChosen = connect(null, { unselectSlot })(GreenChosen_)\n\n// class VioletChosen_ extends Component {\n//     render() {\n//         return <div className=\"violet-room-chosen\" id={this.props.id}\n//             onClick={() => { this.props.unselectSlot(this.props.id) }}\n//         >S</div>;\n//     }\n// }\n// export const VioletChosen = connect(null, { unselectSlot })(VioletChosen_)","import {createBrowserHistory} from 'history';\n\n\nexport default createBrowserHistory();","import React from 'react'\nimport { Free, Busy, Chosen } from './Rooms'\nimport history from '../history'\nimport { GuideContainer, GuideParagraph, GuideSpan, GuideDiv } from '../styles'\n\nexport default function Guide() {\n    return (\n        <div>\n            <GuideContainer>\n                <div>\n                    {\n                        history.location.pathname !== \"/booking\" \n                            ?\n                            <GuideParagraph>\n                                Log in to <b>make reservations</b>.\n                            </GuideParagraph>\n                            : null\n                    }\n                    <GuideParagraph>\n                        <b>9\"</b> means 9:00-9:59.\n                    </GuideParagraph>\n                    {\n                        history.location.pathname === \"/booking\"\n                            ?\n                            <span>\n                                <GuideParagraph>\n                                    Having selected the slots to book\n                                </GuideParagraph>\n                                <GuideParagraph>\n                                    click <b>PAYMENT</b> button.\n                                </GuideParagraph>\n                            </span>\n                            : null\n                    }\n                </div>\n                <div>\n                    <GuideDiv>\n                        <Free guide={true} />\n                        <GuideSpan>\n                            The red room is <b>FREE</b> now.\n                        </GuideSpan>\n                    </GuideDiv>\n                    <GuideDiv>\n                        <Busy guide={true} />\n                        <GuideSpan>\n                            The red room is <b> RESERVED </b> now.\n                        </GuideSpan>\n                    </GuideDiv>\n                    {\n                        history.location.pathname === \"/booking\"\n                            ?\n                            <GuideDiv>\n                                <Chosen guide={true} />\n                                <GuideSpan>\n                                    The red room is <b>SELECTED</b>, but not reserved yet.\n                                </GuideSpan>\n                            </GuideDiv>\n                            : null\n                    }\n                </div>\n            </GuideContainer>\n        </div>\n    );\n} ","const styles = theme => ({\n    progress: {\n      margin: theme.spacing(2),\n    },\n  });\n\n  export default styles","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport {CircularProgressContainer} from '../styles'\nimport styles from '../styles/CircularProgressMUIstyles'\n\nfunction CircularIndeterminate(props) {\n  const { classes } = props;\n  return (\n    <CircularProgressContainer>\n      <CircularProgress className={classes.progress} />\n    </CircularProgressContainer>\n  );\n}\n\nCircularIndeterminate.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CircularIndeterminate);","import React from 'react';\nimport CircularProgress from './CircularProgress';\nimport { connect } from 'react-redux';\nimport { getUniqueId } from '../functions'\nimport { \n  HallsMain, \n  HallCard, \n  HallCardContent,\n  HallTitleContainer,\n  HallCardMedia,\n  CircularProgressContainer,\n  HallCarousel,\n} from '../styles';\nimport '../styles/styles.css';\n\nclass Halls extends React.Component {\n    prepareSlides(){\n        let elements = []\n            this.props.halls.forEach((i, index) => {\n                let slide = {\n                    render: () => {\n                        return(                        \n                        <div key={getUniqueId()}>\n                                <HallCard colour={i.colour} key={getUniqueId()} >    \n                                    <HallTitleContainer colour={i.colour} key={getUniqueId()} >  \n                                        {i.title}\n                                    </HallTitleContainer>\n                                    <HallCardMedia image={i.imageURL} key={getUniqueId()} />\n                                    <HallCardContent colour={i.colour} key={getUniqueId()} >  \n                                        {i.description}\n                                    </HallCardContent>\n                                </HallCard>\n                        </div>);\n                    }\n                }\n                elements.push(slide)\n            })\n        return elements\n    }\n    \n    render() {\n        return (\n                this.props.halls\n                ?\n                    window.screen.width > 480 \n                        ?\n                        <HallsMain>\n                        {this.props.halls.map((i, index) => {\n                            return (\n                                <div key={getUniqueId()} >\n                                     <HallCard colour={i.colour}>    \n                                        <HallTitleContainer colour={i.colour}>  \n                                          {i.title}\n                                        </HallTitleContainer>\n                                        <HallCardMedia image={i.imageURL} />\n                                        <HallCardContent colour={i.colour}>  \n                                            {i.description}\n                                        </HallCardContent>\n                                    </HallCard>\n                                </div>\n                            )\n                        })}\n                    </HallsMain>\n                    :\n                    <HallCarousel\n                    elements = {  this.prepareSlides()  }\n                    duration = {3000}\n                    animation = 'slide left'\n                    showNextPrev = {true}\n                    showIndicators = {false}\n                />\n                :\n                <CircularProgressContainer>\n                    <CircularProgress />\n                </CircularProgressContainer>        \n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return { halls: state.halls, colours: state.colours };\n};\nexport default connect(mapStateToProps, {})(Halls);\n\n\n\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { checkIfSlotReserved, checkIfSlotSelected, } from '../functions'\nimport { selectSlot, unselectSlot, determineReservedSlots } from '../actions'\nimport { FreeHome, Free, Busy, Chosen } from './Rooms.js'\n\nclass RoomStatusDeterminer extends React.Component {\n    render() {\n        const reservedSlot = checkIfSlotReserved(this.props.reservedSlots, this.props.id)\n        \n        if (this.props.user === null) {\n            return reservedSlot ? <Busy id={reservedSlot} /> : <FreeHome id={this.props.id} />;\n        } else {\n            const selectedSlot = checkIfSlotSelected(this.props.selectedSlots, this.props.id)\n            return (\n                reservedSlot\n                    ?\n                    <Busy id={reservedSlot} />\n                    :\n                    selectedSlot\n                        ?\n                        <Chosen id={this.props.id} />\n                        :\n                        <Free id={this.props.id} />\n                    \n            );\n        }\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    const { id } = ownProps\n    const reservedSlots = state.reservedSlots\n    const selectedSlots = state.selectedSlots\n    const dateInput = state.dateInput\n    const tickets = state.tickets\n    const halls = state.halls\n    const user = state.user\n    return { id, reservedSlots, selectedSlots, dateInput, tickets, halls, user };\n};\nexport default connect(mapStateToProps, {\n    selectSlot,\n    unselectSlot,\n    determineReservedSlots,\n})(RoomStatusDeterminer);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport CircularProgress from './CircularProgress';\nimport RoomDeterminer from './RoomDeterminer';\nimport { determineReservedSlots, determineUsersPriorReservations } from '../actions';\nimport { composeSlotId, calculateReservedSlots } from '../functions'\nimport { \n    ScheduleWrapper,\n    HourDesignator,\n    HourColumnContainer,\n    CircularProgressContainer,\n} from '../styles'\n\nclass Schedule extends React.Component {\n\n    componentWillReceiveProps(nextProps){\n        \n        if (nextProps.tickets !== this.props.tickets) {\n            this.props.determineReservedSlots(calculateReservedSlots(nextProps.tickets, this.props.halls, this.props.date));\n            if (this.props.user !== null){\n                this.props.determineUsersPriorReservations(nextProps.tickets, this.props.user._id)}\n        }      \n    }\n    componentDidMount() {\n    if (this.props.tickets && this.props.halls) {\n        this.props.determineReservedSlots(calculateReservedSlots(this.props.tickets, this.props.halls, this.props.dateInput))\n    }\n}\n    renderOneHourRooms = (hour, halls, date) => {\n        let oneHourColumn = []\n        oneHourColumn.push(<HourDesignator key={`${hour}h`}>{hour}\"</HourDesignator>)\n        for (let j = 0; j < halls.length; j++) {\n            oneHourColumn.push(\n                <div key={`${hour}${j}`}>\n                    <RoomDeterminer id={composeSlotId(date, hour, halls[j].colour)} />\n                </div>\n            );\n        }\n        return <HourColumnContainer key={hour}>{oneHourColumn}</HourColumnContainer>\n    }\n\n    renderDayCard = (halls, date) => {\n        let hourColumns = []\n        for (let i = 0; i <= 23; i++) {\n            hourColumns.push(this.renderOneHourRooms(i, halls, date))\n        }\n        return hourColumns\n    }\n\n    render() {\n        return (\n            this.props.reservedSlots\n                ?\n                <ScheduleWrapper>\n                    {this.renderDayCard(this.props.halls, this.props.date)}\n                </ScheduleWrapper>\n                :\n                <CircularProgressContainer>\n                    <CircularProgress />\n                </CircularProgressContainer>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        tickets: state.tickets,\n        halls: state.halls,\n        date: state.dateInput,\n        reservedSlots: state.reservedSlots,\n        user: state.user,\n    };\n};\nexport default connect(mapStateToProps, { determineReservedSlots, determineUsersPriorReservations })(Schedule);","import React from 'react'\nimport { TitleDiv, TitleLine } from '../styles'\n\nexport default class Title extends React.Component{\n    render() {\n        return(\n            <TitleDiv>\n                <TitleLine> \n                    Conference Venue Booking\n                </TitleLine>\n            </TitleDiv>\n        );\n    }\n}","import React from 'react'\nimport UpperBar from './components/UpperBar'\nimport Guide from './components/Guide'\nimport Halls from './components/Halls'\nimport Schedule from './components/Schedule'\nimport Title from './components/Title'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { fetchTickets, fetchHalls, determineReservedSlots, eraseNewUserAccount } from './actions';\nimport CircularProgress from './components/CircularProgress';\nimport { calculateReservedSlots } from './functions'\nimport { Wrapper } from './styles'\n\nclass Home extends React.Component {\n    componentWillMount() {\n        this.props.fetchTickets();\n        this.props.fetchHalls();\n        if (this.props.tickets && this.props.halls) {\n            this.props.determineReservedSlots(calculateReservedSlots(this.props.tickets, this.props.halls, this.props.dateInput))\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.tickets !== this.props.tickets || nextProps.halls !== this.props.halls){  \n            if (this.props.tickets && this.props.halls) {\n                this.props.determineReservedSlots(calculateReservedSlots(this.props.tickets, this.props.halls, this.props.dateInput))\n                this.forceUpdate()\n            }\n        }\n    }\n\n    componentDidMount(){\n        if (this.props.newUser) {this.props.eraseNewUserAccount()} \n    }\n\n    render() {\n           return (\n            (!this.props.user)\n                ?\n                <Wrapper>\n                    <UpperBar />\n                    <Title />\n                    <Guide />\n                    {(this.props.halls) ? <Halls /> : <CircularProgress /> }\n                    {(this.props.tickets && this.props.halls) ? <Schedule /> : <CircularProgress />}\n                </Wrapper>\n                :\n                <Redirect to='/booking' />\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        tickets: state.tickets,\n        halls: state.halls,\n        user: state.user,\n        dateInput: state.dateInput,\n        newUser : state.newUserAccount\n    }\n}\n\nexport default connect(mapStateToProps,\n    {\n        determineReservedSlots,\n        fetchTickets,\n        fetchHalls,\n        eraseNewUserAccount,\n    } )(Home);\n","const styles = theme => ({\n    main: {\n      width: 'auto',\n      display: 'block',\n      marginLeft: theme.spacing(3),\n      marginRight: theme.spacing(3),\n      [theme.breakpoints.up(400 + theme.spacing(3 * 2))]: {\n        width: 400,\n        marginLeft: 'auto',\n        marginRight: 'auto'\n      }\n    },\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme\n        .spacing(3)}px`\n    },\n    avatar: {\n      margin: theme.spacing(),\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      marginTop: theme.spacing()\n    },\n    submit: {\n      marginTop: theme.spacing(3)\n    }\n  })\n\nexport default styles","import React from 'react'\nimport { compose } from 'redux';\nimport { Link } from 'react-router-dom'\nimport Avatar from '@material-ui/core/Avatar'\nimport Button from '@material-ui/core/Button'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport { withStyles } from '@material-ui/core/styles'\nimport { withFormik, Form, Field } from 'formik'\nimport * as Yup from 'yup'\nimport { connect } from 'react-redux'\nimport { validateUser, eraseLoginServerError } from './actions'\nimport { Redirect } from 'react-router-dom'\nimport { LoginError, ReturnHomeLink, LoginServerErrorContainer } from './styles'\nimport styles from './styles/LoginMUIstyles'\n\nclass SignInForm extends React.Component {\n\n  testfunction = () => {\n\n  }\n\n  eraseServerError = () => {  \n    if (this.props.serverError) {\n      this.props.eraseLoginServerError()\n    }\n  }\n\n  render() {\n    const {\n      values,\n      errors,\n      touched,\n      isSubmitting,\n      handleChange,\n      handleBlur,\n      handleSubmit,\n      classes\n    } = this.props  \n\n    return (\n      (!this.props.user)\n      ?\n      <main className={classes.main}>\n      <CssBaseline />\n      <Paper className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component='h1' variant='h5'>\n          Sign in\n        </Typography>\n        <Form className={classes.form} onSubmit={handleSubmit}>\n          <FormControl margin='normal' fullWidth>\n            <InputLabel htmlFor='email'>Email Address</InputLabel>\n            <Field\n              component={Input}\n              id='email'\n              name='email'\n              autoComplete='email'\n              autoFocus\n              placeholder='email@name.tld'\n              error={Boolean(errors.email) && touched.email}\n              onChange={(e)=>{handleChange(e); this.eraseServerError()}}\n              onBlur={handleBlur}\n              value={values.email}\n            />\n              <LoginError>\n                {touched.email && errors.email && <p>{errors.email}</p>}\n              </LoginError>\n          </FormControl>\n          <FormControl margin='normal' fullWidth>\n            <InputLabel htmlFor='password'>Password</InputLabel>\n            <Field\n              component={Input}\n              name='password'\n              type='password'\n              id='password'\n              error={Boolean(errors.password) && touched.password}\n              placeholder='pA$$_W0rd'\n              onChange={(e)=>{handleChange(e); this.eraseServerError()}}\n              onBlur={handleBlur}\n              value={values.password}\n            />\n            <LoginError>\n              {touched.password && errors.password && <p>{errors.password}</p>}\n            </LoginError>\n          </FormControl>\n          <FormControlLabel\n            control={<Checkbox value='remember' color='primary' />}\n            label='Remember me'\n          />\n          <LoginServerErrorContainer>\n            {this.props.serverError ? this.props.serverError : null}\n          </LoginServerErrorContainer>\n          <Button\n            type='submit'\n            fullWidth\n            variant='contained'\n            color='primary'\n            className={classes.submit}\n            disabled={isSubmitting}\n          >\n            Sign in\n          </Button>\n        </Form>\n        <Link to='/'>\n          <ReturnHomeLink>\n            Return to Home page\n          </ReturnHomeLink>\n        </Link>\n      </Paper>\n    </main>\n      :\n      <Redirect to='/booking' />     \n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  newUserAccount: state.newUserAccount,\n  user: state.user,\n  serverError: state.loginServerError,\n})\n\nexport default compose(\n  connect(mapStateToProps, {  validateUser, eraseLoginServerError }),\n\n  withFormik({\n    mapPropsToValues: ({newUserAccount}) => {           \n      let email = newUserAccount   \n      return ({\n        email: email || '',\n        password: ''\n      })\n    },\n    validationSchema: Yup.object().shape({\n      email: Yup.string()\n        .required('Email is required')\n        .email('Email must be valid'),\n      password: Yup.string()\n        .required('Password is required')\n    }),\n    handleSubmit: (values, { props, resetForm, setErrors, setSubmitting }) => {\n      props.validateUser(values)\n      setSubmitting(false)\n    }\n  })\n)(withStyles(styles)(SignInForm))\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { discardTicketToEdit, editTicket } from '../actions'\nimport { convertMlsToyyyymmddThhmm, convertYyyymmddThhmmToMls } from '../functions'\nimport { \n  EditMain, \n  EditTitle,\n  EditRow,\n  EditFirstColumn,\n  EditInput,\n  EditButton,\n} from '../styles'\n\nclass TicketEdition extends React.Component {\n    state = {\n        ticket: null\n    }\n    \n    componentWillMount() {\n        if (this.state.ticket === null) {\n            this.setState({ ticket: this.props.ticketToEdit })\n        }\n    }\n\n    handleTitleInput = (e) => {\n      this.setState({ ticket: { ...this.state.ticket, title: e.target.value } })\n    }\n\n    handleStartInput = (e) => {       \n      if(e.target.value.length < 1) { return null}\n      let value = e.target.value;\n      let start = convertYyyymmddThhmmToMls(value); \n      let end = this.state.ticket.to;\n      this.setState({\n        ticket: {\n          ...this.state.ticket,\n          from: convertYyyymmddThhmmToMls(value),\n        }})\n      if (start > end) {\n        let newToValue = convertMlsToyyyymmddThhmm(convertYyyymmddThhmmToMls(new Date(start).setMinutes(59)))\n        this.setState({\n          ticket: {\n            ...this.state.ticket,\n            to:  convertYyyymmddThhmmToMls(newToValue),\n            from: convertYyyymmddThhmmToMls(value),\n          },\n        });\n      } else if (start < end && start + 3540000 > end) {\n        let newToValue = convertMlsToyyyymmddThhmm(new Date(new Date(start + 10800000).setMinutes(59)))\n        this.setState({\n          ticket: {\n            ...this.state.ticket,\n            to: convertYyyymmddThhmmToMls(newToValue),\n            from: convertYyyymmddThhmmToMls(value),\n          },\n        });\n      }\n    }\n\n    handleEndInput = (e) => {\n      if(e.target.value.length < 1) { return null}\n      let value = e.target.value;\n      let end = Date.parse(value);\n      let start = Date.parse(this.state.ticket.from);\n      this.setState({\n        ticket: {\n          ...this.state.ticket,\n          to: new Date(e.target.value).valueOf(),\n        },\n      });\n      if (end < start) {\n        if (String(value).slice(8, 9) === \"0\" || String(value).slice(-5, -4) === \"0\") {                      \n          setTimeout(() => {\n            let end = Date.parse(this.state.ticket.to);\n            let start = Date.parse(this.state.ticket.from);\n            if (end < start) {\n              let newFromValue = convertMlsToyyyymmddThhmm(new Date(new Date(end + 10800000).setMinutes(0)))\n              this.setState({\n                ticket: {\n                  ...this.state.ticket,\n                  from: convertYyyymmddThhmmToMls(newFromValue),\n                },\n              });\n            }\n          }, 1000);\n        } else {\n          let newFromValue = convertMlsToyyyymmddThhmm(new Date(new Date(end + 10800000).setMinutes(0)))\n          this.setState({\n            ticket: {\n              ...this.state.ticket,\n              from: convertYyyymmddThhmmToMls(newFromValue),\n            },\n          });\n        }\n      }\n    }\n\n    handleConfirmClick = (e) => {\n        if (this.state.ticket.from < Date.parse(new Date())) {\n          alert(\"NEW DATE CANNOT BE IN THE PAST!\");\n          return null;\n        } else if (\n          this.state.ticket.to < this.state.ticket.from\n        ) {\n          alert(\n            \"TERMINATION TIME CANNOT BE BEFORE COMMENCEMENT!\"\n          );\n          return null;\n        } else {\n          this.props.editTicket(this.state.ticket, this.props.user)\n          this.props.discardTicketToEdit()\n        }\n    }\n\n    render() {\n        return (\n          <EditMain>\n            <EditTitle>\n                INPUT DATA YOU WISH TO AMEND. DISREGARD INPUTS YOU DO NOT\n                INTEND TO ALTER.\n            </EditTitle>\n            <EditRow>\n              <EditFirstColumn>\n                EVENT TITLE:\n              </EditFirstColumn>\n              <div>\n                {this.props.ticketToEdit.title}\n              </div>\n              <div>\n                <EditInput\n                  type=\"text\"\n                  value={this.state.ticket.title}\n                  size=\"21\"\n                  onChange={this.handleTitleInput}\n                />\n              </div>\n            </EditRow>\n            <EditRow>\n              <EditFirstColumn>\n                COMMENCES at:\n              </EditFirstColumn>\n              <div>\n                {String(new Date(this.props.ticketToEdit.from)).slice(3, 21)}\n              </div>\n              <div>\n                <EditInput\n                  type=\"datetime-local\"\n                  placeholder=\"Disregard to keep unaltered\"\n                  size=\"21\"\n                  value={ convertMlsToyyyymmddThhmm(this.state.ticket.from) }\n                  min={ convertMlsToyyyymmddThhmm(new Date()) }  \n                  onChange={this.handleStartInput}\n                  required\n                />\n              </div>\n            </EditRow>\n            <EditRow>\n              <EditFirstColumn>\n                TERMINATES at:\n              </EditFirstColumn>\n              <div>\n                {String(new Date(this.props.ticketToEdit.to)).slice(3, 21)}\n              </div>\n              <div>\n                <EditInput\n                  type=\"datetime-local\"\n                  placeholder=\"Disregard to keep unaltered\"\n                  size=\"21\"\n                  min={String(new Date().toISOString()).slice(0, -8)}\n                  value={ convertMlsToyyyymmddThhmm(this.state.ticket.to)}\n                  onChange={this.handleEndInput}\n                  required\n                />\n              </div>\n            </EditRow>\n            <EditRow>\n              <EditButton variant=\"contained\" confirm='true' onClick={this.handleConfirmClick}>\n                CONFIRM\n              </EditButton>\n              <EditButton variant=\"contained\" onClick={this.props.discardTicketToEdit}>\n                CANCEL\n              </EditButton>\n            </EditRow>\n          </EditMain>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        ticketToEdit: state.ticketToEdit,\n        user: state.user,\n    }\n}\nexport default connect(mapStateToProps, {\n    discardTicketToEdit, \n    editTicket, \n})(TicketEdition)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { \n  alterUsersPriorReservationsList, \n  fetchTickets, \n  fetchHalls, \n  determineReservedSlots, \n  determineUsersPriorReservations, \n  setTicketToEdit, \n  withdrawTicket \n} from '../actions'\nimport {\n  PriorOrdersMain,\n  PriorOrdersContainer,\n  PriorOrdersTitle,\n  PriorOrdersTableContainer,\n  PriorOrdersTable,\n  PriorOrderTd1,\n  PriorOrderTd2,\n  PriorOrdersButtonContainer,\n  PriorOrdersButton,\n} from '../styles'\nimport { convertToUKdate } from '../functions'\n\nclass UsersPriorReservations extends React.Component {\n\n  componentWillMount() {\n    this.props.fetchTickets()\n  }\n\n  deleteTicket(e) {\n    let itemIndex = e.target.id\n    let ticketToDelete = this.props.usersPriorReservations[itemIndex]\n    this.props.withdrawTicket(ticketToDelete, this.props.user)\n  }\n\n  editTicket(e) {\n    this.props.setTicketToEdit(this.props.usersPriorReservations[e.target.id])\n  }\n\n  renderTableRow(name, ticket) {\n    let value\n    switch (name) {\n      case 'HALL:':\n        value = this.props.halls.find((e) => e._id === ticket.hall_id).title;\n        break;\n      case 'EVENT:':\n        value = ticket.title;\n        break;\n      case 'FROM:':\n        value = convertToUKdate(ticket.from);\n        break;\n      case 'TO:':\n        value = convertToUKdate(ticket.to);\n        break;\n      default:\n        value = null;\n    }\n    return (\n      <tr>\n        <PriorOrderTd1>\n          {name}\n        </PriorOrderTd1>\n        <PriorOrderTd2 />\n        <td>\n          {value}\n        </td>\n      </tr>\n    );\n  }\n  render() {\n    return (\n      <PriorOrdersMain>\n        <PriorOrdersTitle>\n          LIST OF YOUR PRIOR RESERVATIONS:\n        </PriorOrdersTitle>\n        <div>\n          {this.props.usersPriorReservations.reverse().map((i, index) => {\n            return (\n              <PriorOrdersContainer key={index}>\n                <PriorOrdersTableContainer>\n                  <PriorOrdersTable>\n                    <tbody>\n                      {this.renderTableRow('HALL:', i)}\n                      {this.renderTableRow('EVENT:', i)}\n                      {this.renderTableRow('FROM:', i)}\n                      {this.renderTableRow('TO:', i)}\n                    </tbody>\n                  </PriorOrdersTable>\n                  <PriorOrdersButtonContainer>\n                    <PriorOrdersButton className=\"ui olive button\" id={index} onClick={(e) => this.editTicket(e)}>\n                      EDIT\n                    </PriorOrdersButton>\n                    <PriorOrdersButton id={index} className=\"ui red button\" secondary='true' onClick={(e) => this.deleteTicket(e)}>\n                      DELETE\n                    </PriorOrdersButton>\n                  </PriorOrdersButtonContainer>\n                </PriorOrdersTableContainer>\n              </PriorOrdersContainer>\n            );\n          })\n          }\n        </div>\n      </PriorOrdersMain>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    usersPriorReservations: state.usersPriorReservations,\n    halls: state.halls,\n    user: state.user,\n    tickets: state.tickets,\n  }\n}\nexport default connect(mapStateToProps,\n  {\n    alterUsersPriorReservationsList,\n    fetchTickets,\n    fetchHalls,\n    determineReservedSlots,\n    determineUsersPriorReservations,\n    setTicketToEdit,\n    withdrawTicket\n  })(UsersPriorReservations)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { \n    fetchTickets, \n    fetchHalls, \n    discardAllSelectedSlots, \n    determineReservedSlots, \n    determineUsersPriorReservations, \n    createNewTicket \n} from '../actions';\nimport { \n    ConfirmContainer, \n    ConfirmTitle,\n    ConfirmTicketContainer,\n    ConfirmTitleInput,\n    ConfirmClickBttnNote,\n    ConfirmBttnsContainer\n} from '../styles'\n\n\nclass BookingConfirmation extends React.Component {\n    handleConfirmation(tickets) {\n        this.props.discardAllSelectedSlots()\n        this.props.closeWindow()\n        this.props.createNewTicket(tickets, this.props.user)\n        this.props.fetchTickets();\n    }\n    render() {\n        const timeOptionsForRendering = {\n            day: 'numeric',\n            weekday: 'long',\n            year: 'numeric',\n            month: 'long',\n            hour: 'numeric',\n            minute: 'numeric',\n        }\n        return (\n            <ConfirmContainer>\n                <ConfirmTitle>\n                    Please enter a title of the event for each reservation prior to order confirmation.\n                </ConfirmTitle>\n                {this.props.tickets.map((i, index) => {\n                    return (\n                        <ConfirmTicketContainer key={index}>\n                            <p>\n                                HALL: {this.props.halls.find((e) => e._id === this.props.tickets[index].hall_id).title}  <br />\n                                FROM: {new Intl.DateTimeFormat('en-GB', timeOptionsForRendering).format(this.props.tickets[index].from)} <br />\n                                TO: {new Intl.DateTimeFormat('en-GB', timeOptionsForRendering).format(this.props.tickets[index].to)}\n                            </p>\n                            <div className=\"ui input\">\n                                <ConfirmTitleInput type=\"text\" placeholder=\"Event title\"\n                                    onChange={(e) => {\n                                        let newArray = this.props.tickets\n                                        newArray[index].title = e.target.value\n                                        this.props.alterTickets(newArray)\n                                    }}\n                                />\n                            </div>\n                        </ConfirmTicketContainer>\n                    )\n                }\n                )}\n                <ConfirmClickBttnNote>\n                    Once you entitled each of the events, please confirm the order for its processing.\n                </ConfirmClickBttnNote>\n                <ConfirmBttnsContainer>\n                    <button className=\"ui primary button\" onClick={() => { this.handleConfirmation(this.props.tickets) }}>\n                        Confirm\n                    </button>\n                    <button className=\"ui button\" onClick={this.props.closeWindow}>\n                        Cancel\n                    </button>\n                </ConfirmBttnsContainer>\n            </ConfirmContainer>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        reservedTickets: state.tickets,\n        halls: state.halls,\n        user: state.user,\n        dateInput: state.dateInput,\n        priorReservations: state.usersPriorReservations\n    }\n}\n\nexport default connect(mapStateToProps,\n    {\n        fetchTickets,\n        fetchHalls,\n        discardAllSelectedSlots,\n        determineReservedSlots,\n        determineUsersPriorReservations,\n        createNewTicket,\n\n    })(BookingConfirmation);","import React from 'react'\nimport UpperBar from './components/UpperBar'\nimport Guide from './components/Guide'\nimport Halls from './components/Halls'\nimport Schedule from './components/Schedule'\nimport Title from './components/Title'\nimport TicketEdition from './components/TicketEdition'\nimport UsersPriorReservations from './components/UsersPriorReservations'\nimport { connect } from 'react-redux';\nimport { fetchTickets, \n    fetchHalls, \n    determineReservedSlots, \n    determineUsersPriorReservations, \n    eraseNewUserAccount \n} from './actions';\nimport CircularProgress from './components/CircularProgress';\nimport BookingConfirmation from './components/BookingConfirmation';\nimport { Redirect } from 'react-router-dom'\nimport { prepareSelectedSlotsRendering, calculateReservedSlots } from './functions'\nimport { Wrapper, PaymentButton } from './styles'\n\n\nclass Booking extends React.Component {\n    state = {\n        bookingConfirmation: false,\n        ticketsToReserve: null\n    }\n\n    componentDidMount(){\n        if (this.props.newUser) {this.props.eraseNewUserAccount()} \n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.tickets !== this.props.tickets){      \n            this.props.determineReservedSlots(calculateReservedSlots(this.props.tickets, this.props.halls, this.props.dateInput, this.props.user._id)) \n        }\n    }\n\n    handlePaymentButtonClicking = () => {\n        const tickets  = prepareSelectedSlotsRendering(this.props.selectedSlots, this.props.halls, this.props.user)\n        this.setState({ticketsToReserve: tickets})\n        this.setState({bookingConfirmation: true})\n    }\n\n    alterTicketsToReserve = (newValue) => {\n        this.setState({ticketsToReserve: newValue})\n    }\n\n    closePaymentWindow = () => {\n        this.setState({bookingConfirmation: false})\n    }\n\n    render() {\n        return (\n            (this.props.user)\n                ?\n                <Wrapper>\n                    <UpperBar />\n                    <Title />\n                    <Guide />\n                    {this.props.halls ? <Halls /> : <CircularProgress />}\n                    {this.props.tickets && this.props.halls ? <Schedule /> : <CircularProgress />}\n                    {this.state.bookingConfirmation ? <BookingConfirmation tickets={this.state.ticketsToReserve} alterTickets={this.alterTicketsToReserve} closeWindow={this.closePaymentWindow}/> : null}\n                    {this.props.ticketToEdit ? <TicketEdition /> : null}\n                    <PaymentButton \n                        disabled={Boolean(!this.props.selectedSlots.length)} \n                        variant=\"contained\" \n                        size=\"medium\" \n                        color=\"primary\" \n                        onClick={this.handlePaymentButtonClicking}\n                    >\n                        Payment\n                    </PaymentButton>\n                    {this.props.usersPriorReservations.length > 0  ?  <UsersPriorReservations />  :  null}\n                </Wrapper>\n                :\n                <Redirect to='/' />\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        dateInput: state.dateInput,\n        tickets: state.tickets,\n        halls: state.halls,\n        user: state.user,\n        selectedSlots: state.selectedSlots,\n        usersPriorReservations: state.usersPriorReservations,\n        ticketToEdit: state.ticketToEdit,\n        newUser: state.neewUserAccount\n    }\n}\n\nexport default connect(mapStateToProps,\n    {\n        fetchTickets,\n        fetchHalls,\n        determineReservedSlots,\n        determineUsersPriorReservations,\n        eraseNewUserAccount\n    })(Booking);","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { connect } from 'react-redux'\nimport { Link, Redirect } from 'react-router-dom'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Button from '@material-ui/core/Button'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport axios from 'axios'\nimport { createNewUserAccount } from './actions'\nimport { \n  SignupMain,\n  SingupPaper,\n  SingupFormContainer,\n  SignupTitle,\n  SignupCheckboxContainer,\n  SignupCheckboxLabel,\n  SignupServerError,\n  SignupLinkContainer,\n  ReturnHomeLink,\n  SignupErrorContainer,\n  SignupInputContainer,\n  SignupTextField\n} from './styles'\n\nclass SignUpForm extends React.Component {\n  state = {\n    signUpEmail: '',\n    signUpPassword: '',\n    confirmPassword: '',\n    serverError: null,\n    passwordIsMasked: true,\n    created: false,\n  }\n  renderError = ({ error, touched, active }) => {\n    return error && touched && !active ? <SignupErrorContainer> {error} </SignupErrorContainer> : null\n  }\n  renderInput = formProps => {\n    return (\n      <SignupInputContainer>\n        <SignupTextField\n          {...formProps.input}\n          label={formProps.label}\n          placeholder={\n            formProps.input.name === 'email' ? 'email@name.tld' : 'pA$$_W0rd'\n          }\n          margin='dense'\n          variant='outlined'\n          type={\n            formProps.input.name === 'email' ? 'email' : (this.state.passwordIsMasked ? 'password' : 'text')\n          }\n          className='field'\n          error={Boolean(this.renderError(formProps.meta))}\n        />\n        {this.renderError(formProps.meta)}\n      </SignupInputContainer>\n    )\n  }\n\n  onSubmit = formValues => {\n    axios.post(\n        'https://web-ninjas.net/signUp',\n        { headers: { 'Content-Type': 'application/x-www-form-urlencoded' } },\n        { data: {\n            email: formValues.email.toLowerCase(),\n            password: formValues.password\n        }}\n      )\n      .then(() => {\n                this.props.createNewUserAccount(formValues.email)\n      })\n      .then(()=>{\n        this.setState({created: true})\n        \n      })\n      .catch(e => {\n       if (e.response && e.response.data.errors.errors.email.kind === 'unique') {\n          this.setState({ serverError: 'This e-mail is already used on this website.'}) \n       }\n      })\n  }\n\n  togglePasswordMask = () => {\n    this.setState(prevState => ({\n      passwordIsMasked: !prevState.passwordIsMasked,\n    }));\n  }\n\n  render () {\n    \n    return (\n\n      (!this.state.created)\n      ?\n          (!this.props.user) \n            ?\n          <SignupMain>\n            <CssBaseline />\n            <SingupPaper>\n              <SingupFormContainer autoComplete='off' onSubmit={this.props.handleSubmit(this.onSubmit)}>\n                <SignupTitle>\n                  CREATE YOUR ACCOUNT\n                </SignupTitle>\n                <Field \n                  name='email' \n                  component={this.renderInput} \n                  label='Enter email'\n                  value={this.state.signUpEmail}\n                  onChange={e => {\n                    this.setState({ signUpEmail: e.target.value }) \n                    this.state.serverError !== null && this.setState({ serverError: null})\n                  }} \n                />\n                <Field\n                  name='password'\n                  component={this.renderInput}\n                  label='Enter password'\n                  value={this.state.signUpPassword}\n                  onChange={e => {this.setState({ signUpPassword: e.target.value }) }}\n                />\n                <Field\n                  name='confirmPassword' \n                  component={this.renderInput}\n                  label='Confirm password'\n                  value={this.state.confirmPassword}\n                  onChange={e => {this.setState({ confirmPassword: e.target.value }) }}\n                />\n                <SignupCheckboxContainer> \n                  <SignupCheckboxLabel>\n                    <Checkbox onClick={this.togglePasswordMask} value='checkedB' color='primary' />\n                    Show password\n                  </SignupCheckboxLabel>\n                </SignupCheckboxContainer>\n                <SignupServerError name='server-error'>\n                      <span>{this.state.serverError} </span>\n                </SignupServerError>\n                <Button type='submit' variant='contained' color='primary'>\n                  Create account\n                </Button>\n              </SingupFormContainer>\n              <SignupLinkContainer>\n                <Link to='/'>\n                  <ReturnHomeLink>\n                    Return to Home page\n                  </ReturnHomeLink>\n                </Link>\n              </SignupLinkContainer>\n            </SingupPaper>\n          </SignupMain>\n            : \n          <Redirect to='/booking' />\n      :\n      <Redirect to='/login' />\n    )\n  }\n}\n\nconst validate = formValues => {\n  const errors = {}\n  if (!formValues.email) {\n    errors.email = 'You must enter email'\n  }\n\n  if (!formValues.password) {\n    errors.password = 'You must enter password'\n  } else if (formValues.password.length < 6) {\n    errors.password = 'The password must contain at least 6 characters'\n  }\n\n  if (!formValues.confirmPassword) {\n    errors.confirmPassword = 'You must confirm password'\n  } else if (formValues.password !== formValues.confirmPassword) {\n    errors.confirmPassword = 'The password and its confirmation do not match'\n  }\n\n  return errors\n}\n\nconst mapStateToProps = state => ({user:state.user})\n\nSignUpForm = connect(mapStateToProps, { createNewUserAccount })(SignUpForm)\n\nexport default reduxForm({\n  form: 'signUpForm',\n  validate\n})(SignUpForm)\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport UpperBar from './components/UpperBar';\nimport Title from './components/Title'\nimport { \n    Doughnut, \n    Bar \n} from 'react-chartjs-2';\nimport { \n    fetchTickets, \n    fetchHalls, \n    determineReservedSlots \n} from './actions';\nimport { \n    calculateReservedSlots, \n    convertToUKdate, \n    convertTimeIntoMonth, \n    calculateTimeUsedPerMonth \n} from './functions'\nimport { \n    ChartPeriodSelect, \n    ChartSelectContainer, \n    ChartTitle, \n    DoughnutChartContainer, \n    BarChartContainer \n} from './styles'; \n\n\nclass Charts extends React.Component {\n    state= { period: 'day'}\n    \n    componentWillMount(){\n        if (this.props.halls === null) {this.props.fetchHalls()}\n        if (this.props.tickets === null) {this.props.fetchTickets()}\n        if (this.props.slots === null) {\n            this.props.determineReservedSlots(calculateReservedSlots(this.props.tickets, this.props.halls, this.props.date))\n        }\n        this.calculatePercentage(this.props.halls, this.props.slots);\n    }\n\n    calculatePercentage = (halls, slots) => {\n        let percentage = []\n        halls.forEach(element => {\n            let arr = slots.filter(i => i.slice(25, 28) === element.colour)\n            percentage.push(arr.length) \n        });\n        this.setState({ datasets : percentage  })\n    }\n\n    componentWillReceiveProps(nextProps){\n        if (nextProps.date !== this.props.date ) {\n            this.calculatePercentage(this.props.halls, nextProps.slots)   \n        }\n        if (nextProps.slots !== this.props.slots ) {\n            this.calculatePercentage(this.props.halls, nextProps.slots)   \n        }\n    }\n\n    handleSelectChange = selectedOption => {\n        this.setState({ period: selectedOption.value });\n    }\n\n    render() {\n        const { selectedOption } = this.state.period;\n        const options = [\n            { value: 'day', label: 'day' },\n            { value: 'month', label: 'month' },\n          ];\n\n        const DoghnutChartData = {\n            labels: this.props.halls.map (i => i.title),\n            datasets: [{\n                data: this.state.datasets.map(i => i),\n                backgroundColor: [\n                'rgba(108, 92, 231, 0.9)',\n                'rgba(19, 55, 11, 0.8)',\n                'rgba(178, 34, 34, 0.9)',\n                'rgba(18, 11, 120, 0.9)',\n                ],\n                hoverBackgroundColor: [\n                'rgba(108, 92, 231, 1)',\n                'rgba(19, 55, 11, 0.9)',\n                'rgba(178, 34, 34, 1)',\n                'rgba(18, 11, 120, 1)',\n                ]\n            }]\n        };\n\n        const BarChartData = {\n            labels: this.props.halls.map (i => i.title),\n          datasets: [\n            {\n              label: 'reserved hours per month',\n              backgroundColor: 'rgba(255,99,132,0.2)',\n              borderColor: 'rgba(255,99,132,1)',\n              borderWidth: 1,\n              hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n              hoverBorderColor: 'rgba(255,99,132,1)',\n              data: calculateTimeUsedPerMonth(this.props.date, this.props.tickets, this.props.halls)\n            }\n          ]\n        }\n\n        return(\n            <div>\n                <UpperBar />\n                <Title />                \n                <ChartSelectContainer>\n                    Choose the period\n                    <ChartPeriodSelect value={selectedOption} options={options} menuPlacement='top' onChange={this.handleSelectChange} />\n                </ChartSelectContainer>\n                <DoughnutChartContainer period={this.state.period}>\n                    <ChartTitle>\n                        Halls Use on <b>{(convertToUKdate(this.props.date).slice(0, -7))}</b> \n                    </ChartTitle>\n                    <Doughnut data={DoghnutChartData} width={100} height={200} options={{ maintainAspectRatio: false }} />\n                </DoughnutChartContainer>\n                <BarChartContainer period={this.state.period}>\n                    <ChartTitle>\n                        Total sum of reserved hours in <b>{(convertTimeIntoMonth(this.props.date))}</b> \n                    </ChartTitle>\n                    <Bar data={BarChartData} width={100} height={50} options={{maintainAspectRatio: false}} />\n                </BarChartContainer>\n            </div>\n        );    \n    }\n} \n\nconst mapStateToProps = (state) => {\n    return {\n        tickets: state.tickets,\n        halls: state.halls,\n        date: state.dateInput,\n        slots: state.reservedSlots,\n    }\n}\n\nexport default connect(mapStateToProps, {fetchTickets, fetchHalls, determineReservedSlots, })(Charts)","import React from 'react';\nimport { Switch, Route} from 'react-router-dom';\nimport Home from './Home'\nimport Login from './Login'\nimport Booking from './Booking'\nimport SignUpForm from './SignUpForm'\nimport Charts from './Charts'\n\nconst App = () => {\n    return (\n        <Switch>\n            <Route path='/' exact component={Home} />\n            <Route path='/login' component={Login} />\n            <Route path='/booking' component={Booking} />\n            <Route path='/signup' component={SignUpForm} />\n            <Route path='/charts' component={Charts} />\n        </Switch>      \n    );\n};\nexport default App;","import { combineReducers } from 'redux';\nimport { reducer as formReducer} from 'redux-form'\n\nimport handleDateInput from './handleDateInput'\nimport handleBackSwitcher from './handleBackSwitcher'\nimport handleFetchedHalls from './handleFetchedHalls'\nimport handleFetchedTickets from './handleFetchedTickets'\nimport determineReservedSlots from './determineReservedSlots';\nimport handleNewUserAccount from './handleNewUserAccount';\nimport handleUser from './handleUser'\nimport handleSlotSelection from './handleSlotSelection';\nimport determineUsersPriorReservations from './determineUsersPriorReservations';\nimport handleTicketEdition from './handleTicketEdition';\nimport handleLoginServerError from './handleLoginServerError';\n\nexport default combineReducers({\n    dateInput: handleDateInput,\n    backSwitcher: handleBackSwitcher,\n    halls: handleFetchedHalls,\n    tickets: handleFetchedTickets,\n    reservedSlots: determineReservedSlots,\n    form: formReducer,\n    newUserAccount: handleNewUserAccount,\n    user: handleUser,\n    selectedSlots: handleSlotSelection,\n    usersPriorReservations: determineUsersPriorReservations,\n    ticketToEdit: handleTicketEdition,\n    loginServerError: handleLoginServerError,\n});\n\n","import { HANDLE_DATE_INPUT_SUBMIT, RESET_DATE } from '../actions/types';\n\nexport default (state = Date.parse(new Date()), action) => {\n    switch (action.type) {\n        case HANDLE_DATE_INPUT_SUBMIT:\n        return action.payload;\n        case RESET_DATE:\n        return Date.parse(new Date());\n        default: \n        return state;\n    }\n};\n","import { UPPERBAR_BACKWARD_SWITCHER } from '../actions/types';\n\nexport default (state = false, action) => {\n    switch (action.type) {\n        case UPPERBAR_BACKWARD_SWITCHER:\n        return action.payload;\n        default: \n        return state;\n    }\n};\n","import { FETCH_HALLS} from '../actions/types';\n\nexport default (state = null, action) => {\n    switch (action.type) {\n        case FETCH_HALLS:\n        return action.payload;\n        default: \n        return state;\n    }\n};\n","import { FETCH_TICKETS,  ADD_NEW_TICKETS, WITHDRAW_TICKET, EDIT_TICKET } from '../actions/types';\n\nexport default (state = null, action) => {\n    \n    switch (action.type) {\n        case FETCH_TICKETS:\n        return action.payload;\n\n        case ADD_NEW_TICKETS:\n        let newList = [...state, ...action.payload]\n        return newList;\n\n        case WITHDRAW_TICKET:\n        let newList2 = state.filter(i => i._id !== action.payload._id)\n        return newList2;\n\n        case EDIT_TICKET:\n        let newList3 = state.filter(i => i._id !== action.payload._id)\n        newList3 = [...newList3, action.payload]\n        return newList3;\n\n        default: \n        return state;\n    }\n};\n","import { DETERMINE_RESERVED_SLOTS } from '../actions/types';\n\nexport default (state = null, action) => {\n    switch (action.type) {\n        case DETERMINE_RESERVED_SLOTS:\n        return action.payload;\n        default:\n        return state;    \n    }\n}\n","import { HANDLE_NEW_USER_ACCOUNT } from '../actions/types';\n\nexport default (state = '', action) => {\n    switch (action.type) {\n        case HANDLE_NEW_USER_ACCOUNT:\n        return action.payload;\n        default:\n        return state;    \n    }\n}\n","import  { VALIDATE_USER, DISCARD_USER } from '../actions/types';\n\nexport default (state = null, action) => {\n    switch (action.type) {\n        case VALIDATE_USER:\n        return action.payload;\n        case DISCARD_USER:\n        return null\n        default: \n        return state;\n    }\n}","import  { SELECT_SLOT, UNSELECT_SLOT, DISCARD_ALL_SELECTED_SLOTS } from '../actions/types';\n\nexport default (state = [], action) => {\n    switch (action.type) {\n        case SELECT_SLOT:\n        return [ ...state, action.payload ];\n        case UNSELECT_SLOT:\n        return state.filter(i => i !== action.payload);\n        case DISCARD_ALL_SELECTED_SLOTS:\n        return [];\n        default: \n        return state;\n    }\n}","import { DETERMINE_USERS_PRIOR_RESERVATIONS } from '../actions/types';\n\nexport default (state = [], action) => {\n    switch (action.type) {\n        case DETERMINE_USERS_PRIOR_RESERVATIONS:\n        return action.payload;\n        default:\n        return state;    \n    }\n}\n","import  { SET_TICKET_TO_EDIT, DISCARD_TICKET_TO_EDIT } from '../actions/types';\n\nexport default (state = null, action) => {\n    switch (action.type) {\n        case SET_TICKET_TO_EDIT:\n        return action.payload;\n        case DISCARD_TICKET_TO_EDIT:\n        return null;\n        default: \n        return state;\n    }\n}","import { RENDER_LOGIN_SERVER_ERROR, ERASE_LOGIN_SERVER_ERROR } from '../actions/types';\n\nexport default (state = null, action) => {\n    switch (action.type) {\n        case RENDER_LOGIN_SERVER_ERROR:\n        return action.payload;\n        case ERASE_LOGIN_SERVER_ERROR:\n        return null;\n        default: \n        return state;\n    }\n};\n\n\n\n\n","import thunk from 'redux-thunk'\nimport {createStore, applyMiddleware, compose} from 'redux';\nimport reducers from './reducers';\n\nfunction saveToLocalStorage(state) {\n    try {\n        const serializedState = JSON.stringify(state)\n        localStorage.setItem('state', serializedState)\n    } catch(e) {\n        console.log(e)\n    }\n}\n\nfunction loadFromLocalStorage() {\n    try {\n        const serializedState = localStorage.getItem('state')\n        if (serializedState === null) return undefined\n        return JSON.parse(serializedState)\n    }    catch(e) {\n        console.log(e)\n        return undefined\n    }\n}\n\nconst persistedState = loadFromLocalStorage()\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n    reducers,\n    persistedState,\n    composeEnhancers(applyMiddleware(thunk))  \n    );\n\nstore.subscribe(()=> saveToLocalStorage(store.getState()))\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport App from './App';\nimport store from './store'\nimport { BrowserRouter, } from 'react-router-dom';\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n            <App />\n        </BrowserRouter>\n    </Provider>, \n    document.querySelector('#root')\n);\n\n// basename='/booking_test_redux'"],"sourceRoot":""}